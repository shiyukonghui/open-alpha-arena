(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[332],{130:(e,t,i)=>{"use strict";i.d(t,{m:()=>r});var n=i(7876),l=i(8617);function a(e){let{model:t,maxEquity:i,mobile:a=!1}=e,s=(0,l.ZI)(t.id),r=a?90:120,o=a?15:20,c=a?"w-10":"w-16",d=o;return i>0&&(d=o+t.currentEquity/i*(r-o)),(0,n.jsxs)("div",{className:"flex flex-1 flex-col items-center",children:[(0,n.jsxs)("div",{className:"relative flex items-end justify-center",style:{height:"".concat(r,"px"),width:a?"40px":"64px"},children:[(0,n.jsx)("div",{className:"terminal-data absolute left-1/2 -translate-x-1/2 ".concat(a?"text-[10px]":"text-xs"," font-bold text-black"),style:{bottom:"".concat(r+(a?4:6),"px")},children:(0,l.vv)(t.currentEquity)}),(0,n.jsx)("div",{className:"".concat(c," bg-gray-200"),style:{height:"".concat(r,"px")}}),(0,n.jsx)("div",{className:"absolute ".concat(c),style:{height:"".concat(d,"px"),bottom:0,backgroundColor:s.color}}),(0,n.jsx)("div",{className:"absolute ".concat(a?"bottom-0.5":"bottom-1"," left-1/2 -translate-x-1/2"),children:(0,n.jsx)("img",{src:s.icon,alt:t.name,className:"".concat(a?"size-4":"size-6"," object-contain chart-icon grok-white")})})]}),(0,n.jsx)("div",{className:"terminal-text mt-1 whitespace-nowrap text-center ".concat(a?"text-[10px]":"text-xs"," font-semibold leading-tight text-black ").concat(a?"max-w-[40px] truncate":"max-w-16 lg:max-w-20 xl:max-w-24 truncate"),children:t.name.toUpperCase()})]})}var s=i(2230);function r(e){let{sortedData:t,mobile:i=!1}=e,l=i?"p-2":"p-3",r=i?"h-32":"h-44",o=i?"gap-2":"gap-6";return(0,n.jsxs)("div",{className:"terminal-border bg-white ".concat(l),children:[(0,n.jsx)("div",{className:"md:hidden",children:(0,n.jsx)(s.v,{children:(0,n.jsx)("div",{className:"flex ".concat(r," items-end ").concat(o),style:{width:"max-content",minWidth:"100%"},children:t.map(e=>(0,n.jsx)(a,{model:e,maxEquity:Math.max(...t.map(e=>e.currentEquity)),mobile:i},e.id))})})}),(0,n.jsx)("div",{className:"hidden md:block",children:(0,n.jsx)("div",{className:"flex ".concat(r," items-end ").concat(o," overflow-x-auto thin-scrollbar"),children:t.map(e=>(0,n.jsx)(a,{model:e,maxEquity:Math.max(...t.map(e=>e.currentEquity)),mobile:i},e.id))})})]})}},326:(e,t,i)=>{"use strict";function n(e,t){return t>0?(e-t)/t*100:0}function l(e,t,i){return["equity","equity-realized"].includes(i)?n(e,t):e/t*100}function a(e){return e?"terminal-positive":"terminal-negative"}function s(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return"".concat(e>=0?"+":"").concat(Number(e.toFixed(t)),"%")}function r(e){let t=2*(1e3>Math.abs(e));return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:t,maximumFractionDigits:t}).format(e)}function o(e){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2,maximumFractionDigits:2}).format(e)}function c(e){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:20}).format(e)}function d(e,t){let i=n(e,t),l=e>=t;return{percentageChange:i,isPositive:l,colorClass:a(l),formattedPercentage:s(i),formattedCurrency:r(e)}}function m(e,t,i,n){return"percentage"===n?l(e,t,i):e}function x(e,t,i,n){if("percentage"!==n)return"$".concat(e.toLocaleString());{let n=l(e,t,i);return"".concat(n.toFixed(2),"%")}}i.d(t,{$B:()=>x,B3:()=>d,E5:()=>m,Ee:()=>s,F:()=>c,Oi:()=>o,r9:()=>a,vv:()=>r})},2230:(e,t,i)=>{"use strict";i.d(t,{v:()=>a});var n=i(7876),l=i(4232);function a(e){let{children:t}=e,i=(0,l.useRef)(null),[a,s]=(0,l.useState)(!1),[r,o]=(0,l.useState)(!1),c=()=>{if(!i.current)return;let{scrollLeft:e,scrollWidth:t,clientWidth:n}=i.current;s(e>10),o(e<t-n-10)};return(0,l.useEffect)(()=>{let e=setTimeout(c,100),t=()=>c();return window.addEventListener("resize",t),()=>{clearTimeout(e),window.removeEventListener("resize",t)}},[t]),(0,l.useEffect)(()=>{c()},[]),(0,n.jsxs)("div",{className:"relative w-full",children:[a&&(0,n.jsx)("div",{className:"pointer-events-none absolute left-0 top-0 z-10 h-full w-4 bg-gradient-to-r from-white via-white/90 to-transparent md:hidden",style:{marginLeft:"-2px"}}),r&&(0,n.jsx)("div",{className:"pointer-events-none absolute right-0 top-0 z-10 h-full w-4 bg-gradient-to-l from-white via-white/90 to-transparent md:hidden",style:{marginRight:"-2px"}}),(0,n.jsx)("div",{ref:i,onScroll:c,className:"overflow-x-auto md:overflow-x-visible",style:{WebkitOverflowScrolling:"touch"},children:t})]})}},3827:(e,t,i)=>{"use strict";i.d(t,{Fr:()=>s,dM:()=>a,sQ:()=>l,w3:()=>r});var n=i(1193);let l={startingEquity:n.j9,circles:{line:{radius:15.75,strokeWidth:2,iconSize:25.5,iconOffset:-12.75},threshold:{radius:29.25,strokeWidth:2,iconSize:43.875,iconOffset:-21.9375}},stroke:2,scaling:{1:{radius:0,iconSize:0,iconOffset:0},2:{radius:4,iconSize:6,iconOffset:-3},3:{radius:8,iconSize:12,iconOffset:-6}},colors:{stroke:"rgba(255, 255, 255, 0.9)",clipPathRadius:16.875},hover:{scale:1.2,glowOpacity:"60",transition:"all 0.2s cubic-bezier(0.4, 0, 0.2, 1)"},mobile:{breakpoint:640,circleRadius:16,iconSize:24,iconOffset:-12}},a=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=l.circles[e],a=l.scaling[i];return t?{radius:l.mobile.circleRadius+a.radius,strokeWidth:l.stroke,iconSize:l.mobile.iconSize+a.iconSize,iconOffset:l.mobile.iconOffset+a.iconOffset}:{radius:n.radius+a.radius,strokeWidth:l.stroke,iconSize:n.iconSize+a.iconSize,iconOffset:n.iconOffset+a.iconOffset}},s=()=>window.innerWidth<l.mobile.breakpoint,r=()=>n.j9},6171:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>e0});var n=i(7876),l=i(4232),a=i(281),s=i.n(a),r=i(9702),o=i(6006),c=i(8282),d=i(2307),m=i(1193);let x={filterTrades:(e,t)=>t?e.filter(e=>{let i=(0,m.dn)(e.model_id);return(null==i?void 0:i.id)===t}):e,filterConversations:(e,t)=>t?e.filter(e=>{let i=(0,m.dn)(e.model_name||e.model_id);return(null==i?void 0:i.id)===t}):e},u=(0,l.createContext)(null);function h(e){let{children:t}=e,[i,a]=(0,l.useState)(null);return(0,n.jsx)(u.Provider,{value:{focusedModel:i,focusModel:e=>{a(e)},clearFocus:()=>{a(null)},isFocused:e=>i===e,isAnyFocused:null!==i},children:t})}function p(){let e=(0,l.useContext)(u);if(!e)throw Error("useModelFocus must be used within a ModelFocusProvider");return e}function f(e){let[t,i]=(0,l.useState)(!1);(0,l.useEffect)(()=>{if(window)return window.addEventListener("keydown",n),window.addEventListener("keyup",a),s},[]);let n=t=>{let{key:n}=t;n===e&&i(!0)},a=t=>{let{key:n}=t;n===e&&i(!1)},s=()=>{window.removeEventListener("keydown",n),window.removeEventListener("keyup",a)};return t}var g=i(3827),v=i(326),b=i(9987),y=i(2333),j=i(5208);function N(e){let{series:t,chartType:i,scaleLevel:l=1}=e,a=(0,g.Fr)(),s=(0,g.dM)(i,a,l),r=t.icon.replace("/logos/","/logos_white/"),o=t.id.includes("buynhold"),c=.8*s.radius,d=.8*s.iconSize,m=-d/2;return(0,n.jsx)("g",{id:"circle-with-icon-".concat(t.id),children:o?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("circle",{cx:-2,cy:"0",r:c,fill:"rgba(128, 128, 128, 0.6)",stroke:t.color,strokeWidth:"1.5",strokeDasharray:"2,2"}),(0,n.jsx)("image",{href:r,x:m+-2,y:m,width:d,height:d,clipPath:"url(#circle-clip)",className:"chart-icon grok-white"})]}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("circle",{cx:"0",cy:"0",r:s.radius,fill:t.color,stroke:"none",strokeWidth:0}),(0,n.jsx)("image",{href:r,x:s.iconOffset,y:s.iconOffset,width:s.iconSize,height:s.iconSize,clipPath:"url(#circle-clip)",className:"chart-icon grok-white"})]})})}function w(e){let{series:t,chartType:i,scaleLevel:l=1}=e,a=(0,g.Fr)(),s=Math.max((0,g.dM)(i,a,l).iconSize/2+2,22.5);return(0,n.jsxs)("defs",{children:[t.map(e=>(0,n.jsx)(N,{series:e,chartType:i,scaleLevel:l},"circle-def-".concat(e.id))),(0,n.jsx)("clipPath",{id:"circle-clip",children:(0,n.jsx)("circle",{cx:"0",cy:"0",r:s})})]})}var T=i(8477),k=i(7816);function E(e){let{value:t,duration:i=800,decimals:l=2,children:a,className:s="",format:r,trend:o}=e;return(0,n.jsx)(k.Ay,{value:t,format:r||{minimumFractionDigits:l,maximumFractionDigits:l},locales:"en-US",transformTiming:{duration:i,easing:"cubic-bezier(0.25, 0.46, 0.45, 0.94)"},spinTiming:{duration:i,easing:"cubic-bezier(0.25, 0.46, 0.45, 0.94)"},trend:o,className:s,plugins:[k.Yw],style:a?{}:{fontVariantNumeric:"tabular-nums",...s?{}:{display:"inline-block"}},children:a})}function C(e){var t;let{seriesId:i,x:a,y:s,value:r,chartDataType:o,valueDisplayType:c,isPositive:d,label:x,startingEquity:u,firstValue:h,offsetX:p=38,offsetY:f=-18,isFocusedView:v=!1,isHovered:b=!1}=e,y=(0,m.mA)(i),j=(0,g.Fr)(),N=(0,l.useRef)(null),[w,k]=(0,l.useState)(null),C=r>=(null!=(t=null!=u?u:h)?t:(0,g.w3)()),S=j?29:38,M=j?-7:-10,D=j?32:65,A=j?14:18,O=j?7:10;(0,l.useEffect)(()=>{if(N.current){let e=N.current.ownerSVGElement;if(e){let t=e.parentElement;if(t){let i=t.getBoundingClientRect(),n=e.getBoundingClientRect(),l=n.left-i.left+a+S;k({x:l+(j?v?36:44:75),y:n.top-i.top+s+M+(j?50:70)})}}}},[a,s,S,M]);let L=w&&"undefined"!=typeof document&&N.current?(()=>{let e=N.current.ownerSVGElement,t=null==e?void 0:e.parentElement;return t?(0,T.createPortal)((0,n.jsxs)("div",{style:{position:"absolute",left:"".concat(w.x,"px"),top:"".concat(w.y,"px"),width:"".concat(D,"px"),height:"".concat(A,"px"),backgroundColor:"".concat(y.color,"F0"),borderRadius:"2px",display:"flex",alignItems:"center",justifyContent:"center",pointerEvents:"none",zIndex:b?1e3:10,fontSize:"".concat(O,"px"),fontWeight:j?700:600,color:"white"},children:["dollar"===c&&(0,n.jsx)("span",{children:"$"}),(0,n.jsx)(E,{value:r,duration:600,decimals:"percentage"===c?2:2*!j,trend:C?1:-1,format:{style:"decimal",minimumFractionDigits:"percentage"===c?2:2*!j,maximumFractionDigits:"percentage"===c?2:2*!j}}),"percentage"===c&&(0,n.jsx)("span",{children:"%"})]}),t):null})():null;return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("g",{ref:N,transform:"translate(".concat(a+S,", ").concat(s+M,")"),children:(0,n.jsx)("rect",{x:0,y:0,width:D,height:A,fill:"transparent"})}),L]})}var S=i(4193),M=i(3599),D=i(6331),A=i(7233),O=i(8239),L=i(8189),_=i(6125);let I=(0,l.createContext)(null),q=()=>{let e=(0,l.useContext)(I);if(!e)throw Error("useChartScales must be used within UnifiedChartContainer");return e};function z(e){var t;let i,{width:l,height:a,data:s,chartDataType:r="equity",valueDisplayType:o="dollar",onValueDisplayTypeChange:c,chartViewType:d="line",onChartViewTypeChange:m,children:x,yDomain:u,xDomain:h,showValueToggle:p=!0,timeRange:f="all",onTimeRangeChange:g,showBackButton:v=!1,onBackToAllModels:b,comparisonMode:y=!1}=e,j=(t=l)<640?{top:50,bottom:30,left:40,right:20}:t<768?{top:70,bottom:25,left:80,right:100}:t<1024?{top:70,bottom:30,left:80,right:120}:{top:70,bottom:35,left:80,right:200},N=Math.max(0,l-j.left-j.right),w=Math.max(0,a-j.top-j.bottom),T=(0,O.A)({domain:(()=>{if(h)return h;if(0===s.length)return[new Date,new Date];if(s.length>0&&"data"in s[0]){let e=new Date,t=new Date(0);if(s.forEach(i=>{if(i.data.length>0){let n=i.data[0].x,l=i.data[i.data.length-1].x;n<e&&(e=n),l>t&&(t=l)}}),"all"!==f){let i=F(t,f,e);return[i>e?i:e,t]}return[e,t]}if("all"!==f){let e=s[s.length-1],t=F(e.x,f,s[0].x);return[t>s[0].x?t:s[0].x,e.x]}return[s[0].x,s[s.length-1].x]})(),range:[0,N]}),k=[],E=s.length>0&&"data"in s[0];if(k=E?s.flatMap(e=>e.data.map(e=>e.y)):s.map(e=>e.y),"pnl"===r&&k.push(0),u)i=u;else if("all"!==f){if(E){let e=new Date(0);s.forEach(t=>{if(t.data.length>0){let i=t.data[t.data.length-1].x;i>e&&(e=i)}});let t=F(e,f,new Date(0)),i=s.flatMap(e=>e.data.filter(e=>e.x>=t).map(e=>e.y));k=0===i.length?s.flatMap(e=>e.data.map(e=>e.y)):i}else{let e=F(s[s.length-1].x,f,s[0].x),t=s.filter(t=>t.x>=e).map(e=>e.y);k=0===t.length?s.map(e=>e.y):t}if("pnl"===r&&k.push(0),k.length>0){let e,t=Math.min(...k),n=Math.max(...k),l=n-t;e=0===l?Math.max(1,.01*Math.abs(t)):Math.max(.1*l,1),i=[t-e,n+e]}else i=[0,100]}else i=[.99*Math.min(...k),1.01*Math.max(...k)];let C=(0,L.A)({domain:i,range:[w,0],nice:!0,zero:"pnl"===r});return(0,n.jsx)(I.Provider,{value:{xScale:T,yScale:C,margin:j,xMax:N,yMax:w,scaleLevel:1},children:(0,n.jsxs)("div",{className:"flex h-full w-full flex-col",children:[(0,n.jsx)("div",{className:"relative flex-1 bg-gray-50",children:(0,n.jsxs)("svg",{width:l+100*(l<640),height:a,style:{display:"block"},children:[(0,n.jsxs)("defs",{children:[(0,n.jsxs)("pattern",{id:"scanlines",x:"0",y:"0",width:"100%",height:"2",patternUnits:"userSpaceOnUse",children:[(0,n.jsx)("rect",{width:"100%",height:"1",fill:"rgba(0, 255, 0, 0.02)"}),(0,n.jsx)("rect",{width:"100%",height:"1",y:"1",fill:"transparent"})]}),(0,n.jsxs)("pattern",{id:"terminalBorder",x:"0",y:"0",width:"8",height:"8",patternUnits:"userSpaceOnUse",children:[(0,n.jsx)("rect",{width:"8",height:"8",fill:"transparent"}),(0,n.jsx)("rect",{width:"1",height:"8",fill:"rgba(0, 255, 0, 0.1)"}),(0,n.jsx)("rect",{width:"8",height:"1",fill:"rgba(0, 255, 0, 0.1)"})]})]}),(0,n.jsxs)("g",{transform:"translate(".concat(j.left,", ").concat(j.top,")"),children:[(0,n.jsx)(D.A,{scale:C,width:N,height:w,stroke:"rgba(0, 0, 0, 0.1)",strokeDasharray:"1,3",strokeWidth:.5,numTicks:4}),(0,n.jsx)(A.A,{scale:T,width:N,height:w,stroke:"rgba(0, 0, 0, 0.1)",strokeDasharray:"1,3",strokeWidth:.5,numTicks:4}),(0,n.jsx)(D.A,{scale:C,width:N,height:w,stroke:"rgba(0, 0, 0, 0.15)",strokeDasharray:"none",strokeWidth:1,numTicks:2}),(0,n.jsx)(A.A,{scale:T,width:N,height:w,stroke:"rgba(0, 0, 0, 0.15)",strokeDasharray:"none",strokeWidth:1,numTicks:2}),(0,n.jsx)("g",{clipPath:"url(#chart-clip-".concat(l,"-").concat(a,")"),children:x})]}),(0,n.jsx)("defs",{children:(0,n.jsx)("clipPath",{id:"chart-clip-".concat(l,"-").concat(a),children:(0,n.jsx)("rect",{x:0,y:0,width:Math.max(0,h?N:N+j.right+100),height:Math.max(0,w)})})}),(0,n.jsx)(S.A,{top:a-j.bottom,left:j.left,scale:T,numTicks:l<300?1:l<400?2:l<500?3:l<600?4:l<800?5:8,tickValues:(()=>{let e=l<300?1:l<400?2:l<500?3:l<600?4:l<800?5:8,[t,i]=T.domain(),n=(i.getTime()-t.getTime())/(e-1);return Array.from({length:e},(e,i)=>new Date(t.getTime()+i*n))})(),stroke:"rgba(0, 0, 0, 0.4)",strokeWidth:1.5,tickStroke:"rgba(0, 0, 0, 0.6)",tickLength:8,tickLabelProps:()=>({fill:"rgba(0, 0, 0, 0.8)",fontSize:l<400?6:l<500?7:l<600?8:l<800?10:12,fontFamily:"'IBM Plex Mono', monospace",fontWeight:600,textAnchor:"middle"}),tickComponent:l<500?e=>{let{x:t,y:i,formattedValue:a}=e,s=l<400?6:7,r=String(a),o=r.indexOf(" "),c=o>0?r.substring(0,o):r,d=o>0?r.substring(o+1):"";return(0,n.jsxs)("g",{children:[(0,n.jsx)("text",{x:t,y:i,fill:"rgba(0, 0, 0, 0.8)",fontSize:s,fontFamily:"'Courier New', Courier, monospace",fontWeight:600,textAnchor:"middle",children:c}),(0,n.jsx)("text",{x:t,y:i+s+2,fill:"rgba(0, 0, 0, 0.8)",fontSize:s,fontFamily:"'Courier New', Courier, monospace",fontWeight:600,textAnchor:"middle",children:d})]})}:void 0,tickFormat:e=>{let t,i=new Date(6e4*Math.floor(e.getTime()/6e4));return t=l<400||l<500||l<600?"%m/%d %H:%M":"%b %d %H:%M",(0,_.DC)(t)(i)}}),(0,n.jsx)(M.A,{left:j.left,top:j.top,scale:C,numTicks:l<640?3:6,stroke:"rgba(0, 0, 0, 0.4)",strokeWidth:1.5,tickStroke:"rgba(0, 0, 0, 0.6)",tickLength:8,tickLabelProps:()=>({fill:"rgba(0, 0, 0, 0.8)",fontSize:l<640?10:12,fontFamily:"'Courier New', Courier, monospace",fontWeight:600,textAnchor:"end",dx:-8,dy:4}),tickFormat:e=>{if("percentage"===o)return"".concat(Number(e).toFixed(l<640?0:1),"%");{let t=Number(e),i=Math.abs(t),n=t<0?"-":"";return l<640?i>=1e6?"".concat(n,"$").concat((i/1e6).toFixed(1),"M"):i>=1e3?"".concat(n,"$").concat((i/1e3).toFixed(0),"K"):"".concat(n,"$").concat(i.toFixed(0)):"".concat(n,"$").concat(i.toLocaleString())}}}),(0,n.jsxs)("g",{transform:"translate(".concat(j.left,", ").concat(j.top,")"),opacity:.25,children:[(0,n.jsx)("image",{href:"/logos/NOF1 SQUARE BLACK.png",x:5,y:w-(l<640?45:60)-5,width:l<640?45:60,height:l<640?45:60}),(0,n.jsx)("text",{x:N-5,y:w-5,fill:"black",fontSize:l<640?14:18,fontFamily:"'Courier New', Courier, monospace",fontWeight:"bold",textAnchor:"end",children:"nof1.ai"})]})]},"".concat(l,"-").concat(a))}),v&&b&&(0,n.jsx)("div",{className:"absolute left-4 top-4 z-10",children:(0,n.jsx)("button",{onClick:b,className:"border px-3 py-1 font-mono text-xs transition-opacity hover:opacity-80 border-gray-600 bg-white text-gray-800 hover:bg-gray-100",children:"[â† BACK TO ALL MODELS]"})})]})})}function F(e,t,i){return"72h"===t?new Date(e.getTime()-2592e5):i}function R(e){let{x:t,y:i,value:l,seriesName:a,seriesColor:s,valueDisplayType:r,chartDataType:o,startingEquity:c=(0,g.w3)(),...d}=e,{xScale:m,yScale:x,yMax:u}=q(),h=m(t);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("line",{x1:h,y1:0,x2:h,y2:u,stroke:s,strokeWidth:1,strokeDasharray:"4,4",opacity:.8,pointerEvents:"none"}),(0,n.jsxs)("g",{children:[(0,n.jsx)("rect",{x:h-35,y:5,width:70,height:20,fill:s,fillOpacity:.9,rx:4,ry:4}),(0,n.jsx)("text",{x:h,y:18,textAnchor:"middle",fill:"white",fontSize:"10",fontFamily:"'IBM Plex Mono', monospace",fontWeight:"500",children:"percentage"===r?"".concat(Number(l).toFixed(2),"%"):(0,v.$B)(l,c,o,r)})]})]})}let P=e=>{let{hoveredSeries:t,data:i,xScale:l,yScale:a,getCircleConfig:s,scaleLevel:r}=e;if(!t)return null;let o=i.find(e=>e.id===t);if(!o)return null;let c=o.data[o.data.length-1];if(!c)return null;let d=l(c.x),m=a(c.y),x=s("line",!1,r).radius,u=o.name.toUpperCase(),h=6*u.length+8;return(0,n.jsxs)("g",{children:[(0,n.jsx)("rect",{x:d+x-h/2,y:m-40,width:h,height:15,fill:"white",stroke:o.color,strokeWidth:1,rx:2}),(0,n.jsx)("text",{x:d+x,y:m-32,textAnchor:"middle",fontSize:"10",fontWeight:"600",fill:o.color,dominantBaseline:"middle",children:u})]})};function U(){let{onModelClick:e,chartDataType:t="equity",startingEquity:i=(0,g.w3)()}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},[n,a]=(0,l.useState)(null),[s,r]=(0,l.useState)(null),o=(0,l.useCallback)(t=>{e&&e(t)},[e]),c=(0,l.useCallback)(e=>{a(e)},[]),d=(0,l.useCallback)(()=>{a(null),r(null)},[]),m=(0,l.useCallback)((e,t,i,n)=>{r({x:t.x,y:t.y,value:t.y,seriesName:i,seriesColor:n})},[]),x=(0,l.useCallback)(e=>"equity"===t?e>=i:e>=0,[t,i]),u=(0,l.useCallback)((e,t)=>{let i=n===e,l=null!==n&&n!==e;(0,g.dM)("line");let a=e.includes("buynhold");return{strokeWidth:window.innerWidth<640?1:i?g.sQ.stroke+1:g.sQ.stroke,opacity:l?.3:1,filter:i?"drop-shadow(0 0 8px ".concat(t,"40)"):"none",transition:"all 0.2s ease-in-out",cursor:"pointer",strokeDasharray:a?"5,5":"none"}},[n]),h=(0,l.useCallback)((e,t)=>{let i=n===e,l=null!==n&&n!==e;return e.includes("buynhold"),{filter:i?"drop-shadow(0 0 12px ".concat(t,"60)"):"none",opacity:l?.3:1,cursor:"pointer"}},[n]),p=(0,l.useCallback)(e=>{let t=n===e;return"scale(".concat(t?1.2:1,")")},[n]),f=(0,l.useCallback)(e=>n===e,[n]),v=(0,l.useCallback)(e=>null!==n&&n!==e,[n]);return{hoveredSeries:n,setHoveredSeries:a,hoverData:s,setHoverData:r,handleIconClick:o,handleMouseEnter:c,handleMouseLeave:d,handleMouseMove:m,isPositive:x,getLineStyle:u,getCircleStyle:h,getCircleTransform:p,isHovered:f,isOtherHovered:v}}var V=i(4262);function W(e){let{data:t,valueDisplayType:i="dollar",chartDataType:a="equity",models:s=[],onModelClick:r,onValueDisplayTypeChange:o,chartViewType:c="line",onChartViewTypeChange:d,onTimeRangeChange:m,width:x,height:u,timeRange:h="72h",yDomain:p,comparisonMode:f=!1}=e,g=(0,l.useMemo)(()=>t.map(e=>{if(e.data.length<=2e3)return e;let t=e.data.slice(-2e3);return{...e,data:t}}),[t]),{hoveredSeries:v,hoverData:b,handleIconClick:y,handleMouseEnter:j,handleMouseLeave:N,handleMouseMove:w,isPositive:T,getLineStyle:k,getCircleStyle:E,getCircleTransform:C}=U({onModelClick:r,chartDataType:a}),[S,M]=(0,l.useState)(0);return(0,l.useEffect)(()=>{if((0,V.Z)())return;let e=setInterval(()=>{(0,V.Z)()||M(e=>e+1)},3e3);return()=>clearInterval(e)},[]),(0,n.jsx)(z,{width:x,height:u,data:g,chartDataType:a,valueDisplayType:i,onValueDisplayTypeChange:o,chartViewType:c,onChartViewTypeChange:d,yDomain:p,showValueToggle:!0,timeRange:h,onTimeRangeChange:m,comparisonMode:f,children:(0,n.jsx)(B,{data:g,chartDataType:a,valueDisplayType:i,models:s,hoveredSeries:v,hoverData:b,handleMouseEnter:j,handleMouseLeave:N,handleMouseMove:w,handleIconClick:y,isPositive:T,getLineStyle:k,getCircleStyle:E,getCircleTransform:C,pulseKey:S})})}function B(e){var t;let{data:i,chartDataType:a,valueDisplayType:s,models:r,hoveredSeries:o,hoverData:c,handleMouseEnter:d,handleMouseLeave:m,handleMouseMove:x,handleIconClick:u,isPositive:h,getLineStyle:p,getCircleStyle:f,getCircleTransform:v,pulseKey:b}=e,{xScale:N,yScale:T,scaleLevel:k}=q(),[E,S]=(0,l.useState)(null);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(w,{series:i,chartType:"line",scaleLevel:k}),i.map(e=>(0,n.jsx)("g",{children:(0,n.jsx)(y.A,{data:e.data,x:e=>N(e.x),y:e=>T(e.y),stroke:e.color,strokeLinecap:"round",strokeLinejoin:"round",curve:j.A,style:p(e.id,e.color),onMouseEnter:()=>d(e.id),onMouseLeave:m,onClick:()=>u(e.id),onMouseMove:t=>{if(e.id.includes("buynhold"))return;let i=t.currentTarget.getBoundingClientRect(),n=t.clientX-i.left;t.clientY,i.top;let l=N.invert(n),a=e.data.reduce((e,t)=>Math.abs(t.x.getTime()-l.getTime())<Math.abs(e.x.getTime()-l.getTime())?t:e);x(t,a,e.name,e.color),S({x:t.clientX,y:t.clientY,data:{...a,series:e}})}})},"".concat(e.id,"-line-group"))),i.sort((e,t)=>{let i=e.id.includes("buynhold"),n=t.id.includes("buynhold");if(i&&!n)return -1;if(!i&&n||o===e.id)return 1;if(o===t.id)return -1;let l=r.find(t=>t.id===e.id),a=r.find(e=>e.id===t.id);return((null==l?void 0:l.currentValue)||0)-((null==a?void 0:a.currentValue)||0)}).map((e,t)=>{var i;let l=e.data[e.data.length-1];if(!l)return null;let c=l.y,x=(null==(i=r.find(t=>t.id===e.id))?void 0:i.startingEquity)||(0,g.w3)(),h=N(l.x),p=T(l.y),y=window.innerWidth<640,j=(0,g.dM)("line",y,k),w=j.radius;return(0,n.jsxs)("g",{children:[b>0&&!e.id.includes("buynhold")&&!(0,V.Z)()&&(0,n.jsx)("g",{transform:"translate(".concat(h+w,", ").concat(p,")"),children:(0,n.jsx)("circle",{cx:"0",cy:"0",r:j.radius+8,fill:e.color,opacity:"0.4",style:{animation:"pulse-out 1s ease-out forwards",animationFillMode:"forwards"}})},"".concat(e.id,"-pulse-").concat(b)),(0,n.jsx)("g",{transform:"translate(".concat(h+w,", ").concat(p,") ").concat(v(e.id)),style:{...f(e.id,e.color),transition:"transform 0.2s ease-in-out 0.1s"},onMouseEnter:()=>d(e.id),onMouseLeave:m,onClick:()=>u(e.id),children:(0,n.jsx)("use",{href:"#circle-with-icon-".concat(e.id),x:0,y:0})}),!e.id.includes("buynhold")&&(0,n.jsx)("g",{style:{zIndex:o===e.id?1e3:10+t},children:(0,n.jsx)(C,{seriesId:e.id,x:h,y:p,value:c,chartDataType:a,valueDisplayType:s,isPositive:c>=x,label:"equity"===a?"TOTAL ACCOUNT VALUE":"equity-realized"===a?"EQUITY (REALIZED)":"PnL",startingEquity:e.startingEquity,firstValue:e.data.length>0?e.data[0].y:void 0,isHovered:o===e.id})})]},"".concat(e.id,"-glyph"))}),c&&!(null==o?void 0:o.includes("buynhold"))&&(0,n.jsx)(R,{x:c.x,y:c.y,value:c.value,seriesName:c.seriesName,seriesColor:c.seriesColor,valueDisplayType:s,chartDataType:a,startingEquity:(null==(t=r.find(e=>e.id===o))?void 0:t.startingEquity)||(0,g.w3)()}),(0,n.jsx)(P,{hoveredSeries:o,data:i,xScale:N,yScale:T,getCircleConfig:g.dM,scaleLevel:k}),E&&(0,n.jsxs)("div",{className:"terminal-text",style:{position:"fixed",left:E.x+10,top:E.y-10,backgroundColor:"white",color:"black",padding:"8px 12px",fontSize:"12px",fontFamily:"'IBM Plex Mono', monospace",pointerEvents:"none",zIndex:9999,border:"2px solid black",boxShadow:"none"},children:[(0,n.jsxs)("div",{className:"flex items-center space-x-2 mb-1",children:[(0,n.jsx)("div",{className:"w-3 h-3 border-2 border-black",style:{backgroundColor:E.data.series.color}}),(0,n.jsx)("span",{className:"font-bold text-black",children:E.data.series.name.toUpperCase()})]}),(0,n.jsxs)("div",{className:"text-xs",children:[(0,n.jsx)("div",{className:"text-gray-600",children:E.data.x.toLocaleString()}),(0,n.jsx)("div",{className:"font-mono text-black font-semibold",children:"percentage"===s?"".concat(Number(E.data.y).toFixed(2),"%"):"$".concat(Number(E.data.y).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}))})]})]})]})}var H=i(6227);function G(e){let t,{data:i,width:l,height:a,chartDataType:s="pnl",valueDisplayType:r="dollar",onValueDisplayTypeChange:o,onTimeRangeChange:c,onModelClick:d,timeRange:m="72h",yDomain:x,chartViewType:u="line",onChartViewTypeChange:h}=e,{hoveredSeries:p,hoverData:f,handleIconClick:v,handleMouseEnter:b,handleMouseLeave:y,handleMouseMove:j,isPositive:N,getLineStyle:w,getCircleStyle:T,getCircleTransform:k}=U({onModelClick:d,chartDataType:s});return t="equity"===s?"percentage"===r?0:(0,g.w3)():0,(0,n.jsxs)("div",{className:"relative",children:[(0,n.jsx)("div",{className:"absolute left-20 top-4 z-10 rounded bg-yellow-500 px-3 py-1 font-mono text-sm font-bold text-black",children:"will fix l8r"}),(0,n.jsx)(z,{width:l,height:a,data:i,chartDataType:s,valueDisplayType:r,onValueDisplayTypeChange:o,yDomain:x,showValueToggle:!!o,timeRange:m,onTimeRangeChange:c,chartViewType:u,onChartViewTypeChange:h,children:(0,n.jsx)(Y,{data:i,thresholdValue:t,chartDataType:s,valueDisplayType:r,hoveredSeries:p,hoverData:f,handleMouseEnter:b,handleMouseLeave:y,handleMouseMove:j,handleIconClick:v,isPositive:N,getLineStyle:w,getCircleStyle:T,getCircleTransform:k})})]})}function Y(e){var t;let{data:i,thresholdValue:a,chartDataType:s,valueDisplayType:r,hoveredSeries:o,hoverData:c,handleMouseEnter:d,handleMouseLeave:m,handleMouseMove:x,handleIconClick:u,isPositive:h,getLineStyle:p,getCircleStyle:f,getCircleTransform:v}=e,{xScale:b,yScale:N,scaleLevel:T}=q(),[k,E]=(0,l.useState)(null);return(0,n.jsxs)("g",{onMouseLeave:()=>E(null),children:[(0,n.jsx)(w,{series:i,chartType:"line",scaleLevel:T}),(0,n.jsxs)("defs",{children:[(0,n.jsxs)("linearGradient",{id:"positive-gradient",x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[(0,n.jsx)("stop",{offset:"0%",stopColor:"#22c55e",stopOpacity:"0.4"}),(0,n.jsx)("stop",{offset:"100%",stopColor:"#22c55e",stopOpacity:"0.15"})]}),(0,n.jsxs)("linearGradient",{id:"negative-gradient",x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[(0,n.jsx)("stop",{offset:"0%",stopColor:"#dc2626",stopOpacity:"0.4"}),(0,n.jsx)("stop",{offset:"100%",stopColor:"#dc2626",stopOpacity:"0.15"})]})]}),i.map(e=>(0,n.jsx)(H.A,{id:"".concat(e.id,"-threshold"),data:e.data,x:e=>b(e.x),y0:e=>N(e.y),y1:e=>N(a),curve:j.A,clipAboveTo:0,clipBelowTo:N.range()[0],belowAreaProps:{fill:null===o||o===e.id?"url(#negative-gradient)":"transparent"},aboveAreaProps:{fill:null===o||o===e.id?"url(#positive-gradient)":"transparent"}},"".concat(e.id,"-threshold"))),(0,n.jsx)(y.A,{data:i.flatMap(e=>e.data),x:e=>b(e.x),y:e=>N(a),stroke:"#666666",strokeWidth:1,strokeDasharray:"2,2",curve:j.A}),i.map(e=>(0,n.jsx)(y.A,{data:e.data,x:e=>b(e.x),y:e=>N(e.y),stroke:e.color,curve:j.A,style:p(e.id,e.color),onMouseEnter:()=>d(e.id),onMouseLeave:m,onMouseMove:t=>{let i=t.currentTarget.getBoundingClientRect(),n=t.clientX-i.left;t.clientY,i.top;let l=b.invert(n);x(t,e.data.reduce((e,t)=>Math.abs(t.x.getTime()-l.getTime())<Math.abs(e.x.getTime()-l.getTime())?t:e),e.name,e.color);let a=t.currentTarget.getBoundingClientRect(),s=t.clientX-a.left,r=b.invert(s);if(r){let i=e.data.reduce((e,t)=>Math.abs(t.x.getTime()-r.getTime())<Math.abs(e.x.getTime()-r.getTime())?t:e);E({x:t.clientX,y:t.clientY,data:{...i,series:e}})}},onClick:()=>u(e.id)},"".concat(e.id,"-line"))),i.sort((e,t)=>{let i=e.id.includes("buynhold"),n=t.id.includes("buynhold");return i&&!n?-1:!i&&n||o===e.id?1:o===t.id?-1:0}).map(e=>{var t,l;if(0===e.data.length)return null;let a=e.data[e.data.length-1];e.id;let c=(0,g.dM)("line",!1,T).radius,x=b(a.x),p=N(a.y);return(0,n.jsxs)("g",{children:[(0,n.jsx)("g",{transform:"translate(".concat(x+c,", ").concat(p,") ").concat(v(e.id)),style:f(e.id,e.color),onMouseEnter:()=>d(e.id),onMouseLeave:m,onClick:()=>u(e.id),children:(0,n.jsx)("use",{href:"#circle-with-icon-".concat(e.id),x:0,y:0})}),(0,n.jsx)(C,{seriesId:e.id,x:x,y:p,value:a.y,chartDataType:s,valueDisplayType:r,isPositive:h(a.y),label:"equity"===s?"TOTAL ACCOUNT VALUE":"equity-realized"===s?"EQUITY (REALIZED)":"PnL",startingEquity:(null==(t=i.find(e=>e.id===o))?void 0:t.startingEquity)||(0,g.w3)(),firstValue:i.length>0?null==(l=i[0].data[0])?void 0:l.y:void 0})]},"".concat(e.id,"-icon"))}),c&&(0,n.jsx)(R,{x:c.x,y:c.y,value:c.value,seriesName:c.seriesName,seriesColor:c.seriesColor,valueDisplayType:r,chartDataType:s,startingEquity:(null==(t=i.find(e=>e.id===o))?void 0:t.startingEquity)||(0,g.w3)()}),k&&(0,n.jsxs)("div",{className:"terminal-text",style:{position:"fixed",left:k.x+10,top:k.y-10,backgroundColor:"white",color:"black",padding:"8px 12px",fontSize:"12px",fontFamily:"'IBM Plex Mono', monospace",pointerEvents:"none",zIndex:9999,border:"2px solid black",boxShadow:"none"},children:[(0,n.jsxs)("div",{className:"flex items-center space-x-2 mb-1",children:[(0,n.jsx)("div",{className:"w-3 h-3 border-2 border-black",style:{backgroundColor:k.data.series.color}}),(0,n.jsx)("span",{className:"font-bold text-black",children:k.data.series.name.toUpperCase()})]}),(0,n.jsxs)("div",{className:"text-xs",children:[(0,n.jsx)("div",{className:"text-gray-600",children:k.data.x.toLocaleString()}),(0,n.jsx)("div",{className:"font-mono text-black font-semibold",children:"percentage"===r?"".concat(Number(k.data.y).toFixed(2),"%"):"$".concat(Number(k.data.y).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}))})]})]})]})}function $(e){let t,{data:i,color:l,icon:a,id:s,name:r,startingEquity:o,width:c,height:d,chartDataType:m="equity",valueDisplayType:x="dollar",onValueDisplayTypeChange:u,onTimeRangeChange:h,trades:p=[],onModelClick:f,timeRange:g="72h",yDomain:v,xDomain:b,comparisonMode:y=!1,onDataPointClick:j}=e,N=[{id:s,name:r,data:i,color:l,icon:a}],{hoveredSeries:w,hoverData:T,handleMouseEnter:k,handleMouseLeave:E,handleMouseMove:C,isPositive:S,getLineStyle:M,getCircleStyle:D,getCircleTransform:A}=U({onModelClick:f,chartDataType:m});return t="equity"===m?"percentage"===x?0:o:0,(0,n.jsx)(z,{width:c,height:d,data:i,chartDataType:m,valueDisplayType:x,onValueDisplayTypeChange:u,yDomain:v,timeRange:g,onTimeRangeChange:h,xDomain:b,showValueToggle:!!u,comparisonMode:y,children:(0,n.jsx)(Q,{data:i,color:l,id:s,name:r,startingEquity:o,seriesData:N,thresholdValue:t,chartDataType:m,valueDisplayType:x,trades:p,hoveredSeries:w,hoverData:T,handleMouseEnter:k,handleMouseLeave:E,handleMouseMove:C,handleIconClick:()=>{f&&f(s)},handleDataPointClick:e=>{j&&j(e)},isPositive:S,getLineStyle:M,getCircleStyle:D,getCircleTransform:A})})}function Q(e){let{data:t,color:i,id:l,name:a,startingEquity:s,seriesData:r,thresholdValue:o,chartDataType:c,valueDisplayType:d,trades:m,hoveredSeries:x,hoverData:u,handleMouseEnter:h,handleMouseLeave:p,handleMouseMove:f,handleIconClick:v,handleDataPointClick:b,isPositive:N,getLineStyle:T,getCircleStyle:k,getCircleTransform:E}=e,{xScale:S,yScale:M,scaleLevel:D}=q();return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(w,{series:r,chartType:"line",scaleLevel:D}),(0,n.jsx)(H.A,{id:"".concat(l,"-threshold"),data:t,x:e=>S(e.x),y0:e=>M(e.y),y1:e=>M(o),curve:j.A,clipAboveTo:0,clipBelowTo:M.range()[0],belowAreaProps:{fill:"#dc2626",fillOpacity:.1},aboveAreaProps:{fill:"#22c55e",fillOpacity:.1}}),(0,n.jsx)(y.A,{data:t,x:e=>S(e.x),y:e=>M(o),stroke:"#666666",strokeWidth:1,strokeDasharray:"2,2",curve:j.A}),(0,n.jsx)(y.A,{data:t,x:e=>S(e.x),y:e=>M(e.y),stroke:i,curve:j.A,style:T(l,i),onMouseEnter:()=>h(l),onMouseLeave:p,onMouseMove:e=>{let n=e.currentTarget.getBoundingClientRect(),l=e.clientX-n.left;e.clientY,n.top;let s=S.invert(l);f(e,t.reduce((e,t)=>Math.abs(t.x.getTime()-s.getTime())<Math.abs(e.x.getTime()-s.getTime())?t:e),a,i)},onClick:v}),t.map((e,t)=>{let i=m.filter(t=>1e3>Math.abs(1e3*t.exit_time-e.x.getTime()));if(0===i.length)return null;let l=S(e.x),a=M(e.y),s=1===i.length?"".concat(i[0].trade_type.toUpperCase()," ").concat(i[0].symbol," at $").concat(i[0].nav.toFixed(2)):"".concat(i.length," trades: ").concat(i.map(e=>"".concat(e.symbol," $").concat(e.nav.toFixed(2))).join(", "));return(0,n.jsxs)("g",{children:[(0,n.jsx)("circle",{cx:l,cy:a,r:4,fill:"white",stroke:"black",strokeWidth:2,style:{cursor:"pointer"},onClick:()=>b(e.x.getTime())}),(0,n.jsx)("title",{children:s})]},"trades-".concat(t))}),t.length>0&&(()=>{let e=t[t.length-1],a=S(e.x),r=M(e.y),o=window.innerWidth<640,m=(0,g.dM)("threshold",o,D).radius/2;return(0,n.jsxs)("g",{children:[(0,n.jsx)("g",{transform:"translate(".concat(a+m,", ").concat(r,") ").concat(E(l)),style:k(l,i),onMouseEnter:()=>h(l),onMouseLeave:p,onClick:v,children:(0,n.jsx)("use",{href:"#circle-with-icon-".concat(l),x:0,y:0})}),(0,n.jsx)("g",{children:(0,n.jsx)(C,{seriesId:l,x:a,y:r,value:t[t.length-1].y,chartDataType:c,valueDisplayType:d,isPositive:N(t[t.length-1].y),label:"equity"===c?"TOTAL ACCOUNT VALUE":"equity-realized"===c?"EQUITY (REALIZED)":"PnL",startingEquity:s,firstValue:t.length>0?t[0].y:void 0,isFocusedView:!0})})]})})(),u&&(0,n.jsx)(R,{x:u.x,y:u.y,value:u.value,seriesName:u.seriesName,seriesColor:u.seriesColor,valueDisplayType:d,chartDataType:c,startingEquity:s})]})}function X(e){let{primaryData:t,secondaryData:i,primaryColor:l,secondaryColor:a,primaryIcon:s,secondaryIcon:r,primaryId:o,secondaryId:c,primaryName:d,secondaryName:m,width:x,height:u,chartDataType:h="equity",valueDisplayType:p="dollar",onValueDisplayTypeChange:f,onTimeRangeChange:g,timeRange:v="72h",yDomain:b,showBackButton:y=!1,onBackToAllModels:j,comparisonMode:N=!1,primaryStartingEquity:w,secondaryStartingEquity:T}=e,k=e=>{},E=[{id:o,name:d,data:t,color:l,icon:s},{id:c,name:m,data:i,color:a,icon:r}],{hoveredSeries:C,handleMouseEnter:S,handleMouseLeave:M,isPositive:D,getLineStyle:A,getCircleStyle:O,getCircleTransform:L}=U({onModelClick:k,chartDataType:h});return(0,n.jsx)(z,{width:x,height:u,data:t,chartDataType:h,valueDisplayType:p,onValueDisplayTypeChange:f,yDomain:b,showValueToggle:!0,timeRange:v,onTimeRangeChange:g,showBackButton:y,onBackToAllModels:j,comparisonMode:N,children:(0,n.jsx)(K,{primaryData:t,secondaryData:i,seriesData:E,chartDataType:h,valueDisplayType:p,hoveredSeries:C,handleMouseEnter:S,handleMouseLeave:M,handleIconClick:k,getLineStyle:A,getCircleStyle:O,getCircleTransform:L,primaryStartingEquity:w,secondaryStartingEquity:T})})}function Z(e){let{data:t,seriesId:i,color:l,xScale:a,yScale:s,scaleLevel:r,chartDataType:o,valueDisplayType:c,startingEquity:d,getCircleTransform:m,getCircleStyle:x,handleMouseEnter:u,handleMouseLeave:h,handleIconClick:p,offsetX:f=38,offsetY:v=-18}=e;if(0===t.length)return null;let b=t[t.length-1],y=a(b.x),j=s(b.y),N=(0,g.dM)("line",!1,r).radius;return(0,n.jsxs)("g",{children:[(0,n.jsx)("g",{transform:"translate(".concat(y+N,", ").concat(j,") ").concat(m(i)),style:x(i,l),onMouseEnter:()=>u(i),onMouseLeave:h,onClick:()=>p(i),children:(0,n.jsx)("use",{href:"#circle-with-icon-".concat(i),x:0,y:0})}),(0,n.jsx)(C,{seriesId:i,x:y,y:j,value:t[t.length-1].y,chartDataType:o,valueDisplayType:c,isPositive:t[t.length-1].y>=(t.length>0?t[0].y:0),label:"equity"===o?"TOTAL ACCOUNT VALUE":"equity-realized"===o?"EQUITY (REALIZED)":"PnL",startingEquity:d,firstValue:t.length>0?t[0].y:void 0,offsetX:f,offsetY:v})]})}function K(e){let{primaryData:t,secondaryData:i,seriesData:l,chartDataType:a,valueDisplayType:s,hoveredSeries:r,handleMouseEnter:o,handleMouseLeave:c,handleIconClick:d,getLineStyle:m,getCircleStyle:x,getCircleTransform:u,primaryStartingEquity:h,secondaryStartingEquity:p}=e,{xScale:f,yScale:g,scaleLevel:v}=q(),b=new Set;t.forEach(e=>b.add(e.x.getTime())),i.forEach(e=>b.add(e.x.getTime()));let N=Array.from(b).sort((e,t)=>e-t).map(e=>({x:new Date(e),primaryY:(e=>{var i;let n=t.find(t=>t.x.getTime()===e);if(n)return n.y;let l=t.filter(t=>t.x.getTime()<e).pop(),a=t.find(t=>t.x.getTime()>e);if(l&&a){let t=(e-l.x.getTime())/(a.x.getTime()-l.x.getTime());return l.y+(a.y-l.y)*t}return(null==l?void 0:l.y)||(null==(i=t[0])?void 0:i.y)||0})(e),secondaryY:(e=>{var t;let n=i.find(t=>t.x.getTime()===e);if(n)return n.y;let l=i.filter(t=>t.x.getTime()<e).pop(),a=i.find(t=>t.x.getTime()>e);if(l&&a){let t=(e-l.x.getTime())/(a.x.getTime()-l.x.getTime());return l.y+(a.y-l.y)*t}return(null==l?void 0:l.y)||(null==(t=i[0])?void 0:t.y)||0})(e)}));return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(w,{series:l,chartType:"line",scaleLevel:v}),(0,n.jsx)(H.A,{id:"primary-vs-secondary",data:N,x:e=>f(e.x),y0:e=>g(e.primaryY),y1:e=>g(e.secondaryY),curve:j.A,clipAboveTo:0,clipBelowTo:g.range()[0],belowAreaProps:{fill:"#dc2626",fillOpacity:.15},aboveAreaProps:{fill:"#22c55e",fillOpacity:.15}}),(0,n.jsx)(y.A,{data:i,x:e=>f(e.x),y:e=>g(e.y),stroke:l[1].color,strokeWidth:2,strokeDasharray:"4,4",curve:j.A,style:m(l[1].id,l[1].color),onMouseEnter:()=>o(l[1].id),onMouseLeave:c,onClick:()=>d(l[1].id)}),(0,n.jsx)(y.A,{data:t,x:e=>f(e.x),y:e=>g(e.y),stroke:l[0].color,curve:j.A,style:m(l[0].id,l[0].color),onMouseEnter:()=>o(l[0].id),onMouseLeave:c,onClick:()=>d(l[0].id)}),(0,n.jsx)(Z,{data:t,seriesId:l[0].id,color:l[0].color,xScale:f,yScale:g,scaleLevel:v,chartDataType:a,valueDisplayType:s,startingEquity:h,getCircleTransform:u,getCircleStyle:x,handleMouseEnter:o,handleMouseLeave:c,handleIconClick:d,offsetX:38,offsetY:-18}),(0,n.jsx)(Z,{data:i,seriesId:l[1].id,color:l[1].color,xScale:f,yScale:g,scaleLevel:v,chartDataType:a,valueDisplayType:s,startingEquity:p,getCircleTransform:u,getCircleStyle:x,handleMouseEnter:o,handleMouseLeave:c,handleIconClick:d,offsetX:38,offsetY:-18})]})}function J(e){let{timeRange:t,setTimeRange:i,targetTimeRange:l,label:a}=e;return(0,n.jsx)("button",{onClick:()=>i(l),className:"terminal-button-small border-collapse border-r border-black whitespace-nowrap flex-shrink-0 ".concat(t===l?"active":""),children:a})}function ee(e){let{timeRange:t,setTimeRange:i}=e,l={timeRange:t,setTimeRange:i};return(0,n.jsxs)("div",{className:"flex border-collapse border border-black bg-white text-[6px] md:text-sm w-fit",children:[(0,n.jsx)(J,{...l,targetTimeRange:"all",label:"ALL"}),(0,n.jsx)(J,{...l,targetTimeRange:"72h",label:"72H"})]})}function et(e){let{chartDataType:t,setChartDataType:i}=e;return(0,n.jsx)("h2",{className:"terminal-text text-xs md:text-sm font-bold text-black",children:"TOTAL ACCOUNT VALUE"})}var ei=i(4587),en=i.n(ei);function el(e){let{models:t,valueDisplayType:i,focusedModel:a=null,selectedModels:s=[],hoveredModel:r=null,comparisonSelectionMode:o=!1,onModelClick:c,onStartComparison:d,onExitComparison:m,onBackToAllModels:x,setHoveredModel:u}=e,h=f("Escape");return((0,l.useEffect)(()=>{null==m||m()},[h,m]),0===t.length)?null:(0,n.jsx)("div",{className:"relative bg-surface p-1 md:p-3 hidden md:block md:border-t-2 md:border-border",children:(0,n.jsxs)("div",{className:"flex w-full flex-col items-start gap-3 sm:flex-row",children:[a&&!o&&0===s.length&&(0,n.jsx)("div",{className:"absolute bottom-2 right-2 z-10 md:relative md:bottom-auto md:right-auto md:z-auto",children:(0,n.jsxs)("button",{onClick:x,className:"terminal-text flex animate-pulse items-center space-x-0.5 md:space-x-2 border-2 border-border bg-surface px-1 py-0.5 md:px-4 md:py-2 text-[6px] md:text-sm shadow-lg transition-all duration-300 hover:bg-surface-hover hover:shadow-border/50",style:{boxShadow:"0 0 20px rgba(0, 0, 0, 0.2), 0 0 40px rgba(0, 0, 0, 0.1)"},children:[(0,n.jsx)("svg",{className:"h-2 w-2 md:h-4 md:w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),(0,n.jsx)("span",{className:"font-bold",children:"BACK"})]})}),(0,n.jsx)("div",{className:"flex-1 w-full",children:(0,n.jsx)("div",{className:"flex flex-wrap gap-1 md:gap-2 w-full justify-center",children:t.map(e=>{var l;let r=s.includes(e.id),d=a===e.id;e.id;let m=e.currentEquity||(0,g.w3)(),x=e.startingEquity||(0,g.w3)(),h=m-x,p=Math.min(t.length,8),f=window.innerWidth<768,v="calc((100% - ".concat((p-1)*.5,"rem) / ").concat(p,")");return(0,n.jsxs)("div",{onMouseEnter:()=>null==u?void 0:u(e.id),onMouseLeave:()=>null==u?void 0:u(null),onClick:()=>null==c?void 0:c(e.id),className:"\n                    terminal-text relative cursor-pointer border border-border px-1.5 py-0.5 md:p-2 transition-all duration-200\n                    ".concat(r?"bg-surface-hover":d?"bg-surface-elevated":"bg-surface hover:bg-surface-hover"," ").concat(o&&!r?"opacity-50":""," ").concat(!o&&a&&a!==e.id?"opacity-50":""," "),style:{borderColor:r||d?e.color:"var(--border)",flexBasis:f?"calc((100% - 0.75rem) / 4)":v,flexGrow:0,flexShrink:0},children:[(0,n.jsxs)("div",{className:"flex flex-col items-center gap-0.5 md:gap-1 w-full",children:[(0,n.jsxs)("div",{className:"flex items-center justify-center gap-1 md:gap-2 w-full",children:[(0,n.jsx)("div",{className:"relative flex-shrink-0",children:(0,n.jsx)(en(),{src:e.icon,alt:e.name,width:12,height:12,className:"w-3 h-3 rounded object-cover ".concat("x-ai/grok-4"===e.id?"grok-white":"")})}),(0,n.jsx)("h3",{className:"".concat((l=e.name,window.innerWidth<640?l.length<=8?"text-[7px]":l.length<=12?"text-[6px]":(l.length,"text-[5px]"):l.length<=8?"text-xs":l.length<=12?"text-[10px]":l.length<=16?"text-[9px]":"text-[8px]")," font-medium text-foreground leading-tight text-center hidden md:block"),children:e.name.toUpperCase()})]}),(0,n.jsxs)("div",{className:"terminal-data whitespace-nowrap text-[7px] md:text-xs font-bold w-full flex justify-center items-baseline text-black",children:["dollar"===i&&(0,n.jsx)("span",{children:"$"}),(0,n.jsx)(E,{value:"percentage"===i?h/x*100:m,duration:600,decimals:2,trend:h>=0?1:-1,format:{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}}),"percentage"===i&&(0,n.jsx)("span",{children:"%"})]})]}),r&&(0,n.jsx)("div",{className:"absolute right-1 top-1",children:(0,n.jsx)("div",{className:"h-2 w-2 rounded-full",style:{backgroundColor:e.color}})})]},e.id)})})})]})})}function ea(e){let t=(0,m.br)(),i={};return t.forEach(e=>{let t=(0,m.mA)(e);t&&(i[t.id]=t.color)}),i}function es(e,t){return new Date("72h"===t?e.getTime()-2592e5:0)}function er(e,t,i){if(!t||!i)return 0;let n=t[e];if(!n||!n.positions)return 0;let l=0;return Object.values(n.positions).forEach(e=>{let t=e.coin||e.symbol;if(t&&i[t]){let n=i[t].price,a=e.entry_price||0,s=e.position||e.quantity||0;l+=(n-a)*s}}),l}function eo(e){let{width:t,height:i,externalTimeRange:a,externalSetTimeRange:u,externalValueDisplayType:h,externalSetValueDisplayType:f}=e,{focusedModel:y,focusModel:j,clearFocus:N,isFocused:w}=p(),[T,k]=(0,l.useState)(!1),[E,C]=(0,l.useState)([]),[S,M]=(0,l.useState)(null),[D,A]=(0,l.useState)(!1),[O,L]=(0,l.useState)("dollar"),[_,I]=(0,l.useState)("equity"),[q,z]=(0,l.useState)("line"),[F,R]=(0,l.useState)("all"),P=null!=h?h:O,U=null!=f?f:L,B=null!=a?a:F,H=null!=u?u:R,[Y,Q]=(0,l.useState)(null),[Z,K]=(0,l.useState)(Date.now()),{models:J,isLoading:ei,error:en}=(0,r.Q)(),eo=(0,o.d)(),ed=(null==eo?void 0:eo.trades)||[],em=[],{prices:ex,serverTime:eu}=(0,c.r)(),{latestAccountDataByModel:eh}=(0,d.q)(),[ep,ef]=(0,l.useState)({width:0,height:0});(0,l.useEffect)(()=>{if(window.innerWidth<768&&/iPhone/.test(navigator.userAgent)){let e=sessionStorage.getItem("focusedModel");e&&!y&&(sessionStorage.removeItem("focusedModel"),j(e),k(!1),C([]))}},[y,j]),(0,l.useEffect)(()=>{let e=setInterval(()=>{K(Date.now())},5e3);return()=>clearInterval(e)},[]),(0,l.useEffect)(()=>{let e;if(t&&i)return void ef({width:t,height:i});let n=()=>{let e=document.querySelector("[data-chart-container]");if(!e){let e=window.innerWidth;ef({width:e-(e<1024?320:e<1280?384:448),height:500});return}if(window.innerWidth<768)ef({width:window.innerWidth-50,height:480});else{let t=e.getBoundingClientRect();ef({width:t.width-20,height:t.height-80})}};return n(),e=requestAnimationFrame(()=>{n()}),window.addEventListener("resize",n),()=>{window.removeEventListener("resize",n),e&&cancelAnimationFrame(e)}},[t,i,y,T]);let eg=(0,l.useMemo)(()=>{if(0===J.length)return[];let e=ea("light"),t=0;return J.forEach(e=>{if(e.equity.length>0){let i=e.equity[e.equity.length-1];t=Math.max(t,i.t)}}),J.map(i=>{let n=[];if("equity"===_)(n=i.equity).length>0?n=[{t:i.inceptionDate?1e3*i.inceptionDate:n[0].t-1,v:i.startingEquity},...n]:i.startingEquity&&(n=[{t:t>0?t:Z,v:i.startingEquity}]),n.length>0&&(n=n.filter(e=>e.t<=b.IT));else if("pnl"===_)if((n=i.pnl||[]).length>0){let e=n[n.length-1];Z>e.t&&(n=[...n,{t:Z,v:e.v}])}else n=[{t:Z,v:0}];else if("equity-realized"===_){let e=ed.filter(e=>{let t=(0,m.dn)(e.model_id);return(null==t?void 0:t.id)===i.id}),t=em.find(e=>{let t=(0,m.dn)(e.model_id);return(null==t?void 0:t.id)===i.id}),l=[...e];t&&!e.find(e=>e.id===t.id)&&l.push(t);let a=l.sort((e,t)=>e.exit_time-t.exit_time).map(e=>({t:1e3*e.exit_time,v:e.nav}));if(a.length>0)if(Z>a[a.length-1].t){let e=l.length>0&&l[l.length-1].nav||0;n=[...a,{t:Z,v:e+er(i.id,eh,ex)}]}else n=a;else n=[{t:Z,v:er(i.id,eh,ex)}]}return{id:i.id,name:i.name,startingEquity:i.startingEquity,data:n.map(e=>({t:e.t,v:e.v})),color:e[i.id]||"#8884d8",icon:i.icon}})},[J,_,ed,em,eh,ex,Z]);(0,l.useMemo)(()=>x.filterTrades(ed,y).sort((e,t)=>e.exit_time-t.exit_time).map(e=>({id:e.id,timestamp:1e3*e.exit_time,action:"exit",cryptoId:e.symbol,price:e.nav})),[y,ed]);let ev=(0,l.useMemo)(()=>{if(0===J.length)return[];let e=ea("light");return J.map(t=>({id:t.id,name:t.name,startingEquity:t.startingEquity,data:(t.pnl||[]).map(e=>({t:e.t,v:e.v})),color:e[t.id]||"#8884d8",icon:t.icon}))},[J]),eb=(0,l.useMemo)(()=>(y?eg.filter(e=>e.id===y):eg).map(e=>({id:e.id,name:e.name,startingEquity:e.startingEquity,data:e.data.map(t=>({x:new Date(t.t),y:(0,v.E5)(t.v,e.startingEquity,_,P)})),color:e.color,icon:e.icon})),[eg,ev,P,y,_]),ey=(0,l.useMemo)(()=>{let e,t;if(0===eb.length)return"equity"===_||"equity-realized"===_?[9990,10010]:[-100,100];if(T&&2===E.length)e=eb.filter(e=>E.includes(e.id)).flatMap(e=>e.data.map(e=>e.y));else if("all"!==B){var i;let t=null==(i=eb[0])?void 0:i.data[eb[0].data.length-1];if(t){let i=es(t.x,B),n=eb.flatMap(e=>e.data.filter(e=>e.x>=i).map(e=>e.y));if((e=0===n.length?eb.flatMap(e=>e.data.map(e=>e.y)):n).length>0){let t=Math.min(...e),i=Math.max(...e),n=i-t,l=n>0?.05*n:Math.max(1,.005*Math.abs(t));return"pnl"===_?[Math.min(t-l,0),Math.max(i+l,0)]:[t-l,i+l]}}else e=eb.flatMap(e=>e.data.map(e=>e.y))}else e=eb.flatMap(e=>e.data.map(e=>e.y));"pnl"===_&&e.push(0);let n=Math.min(...e),l=Math.max(...e);if(n===l){let e=Math.max(5,.001*n);return[n-e,n+e]}let a=l-n;if("pnl"!==_)return[n-(t=a<10?Math.max(2,.5*a):a<50?Math.max(5,.25*a):a<200?.1*a:.05*a),l+t];{let e=Math.min(n,0),i=Math.max(l,0),a=i-e;return[e-(t=a<10?Math.max(2,.5*a):a<50?Math.max(5,.25*a):.1*a),i+t]}},[eb,B,_,T,E,es]),ej=(0,l.useCallback)(e=>{D?0===E.length?C([e]):1!==E.length||E.includes(e)||(C([...E,e]),k(!0),A(!1),j(null),"bar"===q&&z("line")):y===e?window.innerWidth<768&&/iPhone/.test(navigator.userAgent)?(sessionStorage.removeItem("focusedModel"),window.location.reload()):(j(null),k(!1),C([])):window.innerWidth<768&&/iPhone/.test(navigator.userAgent)?(sessionStorage.setItem("focusedModel",e),window.location.reload()):(j(e),k(!1),C([]))},[D,E,y,q,j]),eN=(0,l.useCallback)(()=>{window.innerWidth<768&&/iPhone/.test(navigator.userAgent)?(sessionStorage.removeItem("focusedModel"),window.location.reload()):(N(),k(!1),C([]),M(null),A(!1))},[N]),ew=(0,l.useCallback)(()=>{A(!0),C([]),N()},[]),eT=(0,l.useCallback)(()=>{A(!1),k(!1),C([])},[]),ek=e=>{if(Y)return void Q(null);let t=new Date(e),i=new Date(t.getTime()-72e5),n=new Date(t.getTime()+72e5);Q({centerTime:t,startTime:i,endTime:n})},eE=(0,l.useMemo)(()=>{if(0===J.length)return[];let e=ea("light");return J.map(t=>{var i;return{id:t.id,name:t.name,icon:t.icon,color:e[t.id]||"#8884d8",equity:t.equity,currentEquity:null!=(i=t.intermittentValue)?i:t.currentEquity,startingEquity:t.startingEquity}})},[J]);return(0,n.jsx)("div",{className:"relative flex h-full w-full flex-col",children:(0,n.jsxs)("div",{className:"flex min-h-0 w-full flex-1 flex-col",children:[(0,n.jsxs)("div",{className:"relative -mt-4 flex min-h-0 flex-1 justify-center overflow-hidden transition-opacity duration-200 px-0.5 md:px-1 ".concat(D?"opacity-30":"opacity-100"),children:[(()=>{if(ei&&0===eg.length)return(0,n.jsx)("div",{className:"flex h-full w-full items-center justify-center",children:(0,n.jsxs)("div",{className:"text-center",children:[(0,n.jsx)("h3",{className:"mb-2 text-lg font-semibold text-foreground sm:text-xl",children:"Loading Chart Data..."}),(0,n.jsx)("p",{className:"text-sm text-foreground-muted sm:text-base",children:(0,n.jsx)(s(),{text:"Initializing AI model performance data",speed:100,typingDelay:500,eraseDelay:5e3})})]})});if(T&&2===E.length){let e=eb.find(e=>e.id===E[0]),t=eb.find(e=>e.id===E[1]);return e&&t?(0,n.jsx)(X,{primaryData:e.data,secondaryData:t.data,primaryColor:e.color,secondaryColor:t.color,primaryIcon:e.icon,secondaryIcon:t.icon,primaryId:e.id,secondaryId:t.id,primaryName:e.name,secondaryName:t.name,width:ep.width,height:ep.height,chartDataType:_,valueDisplayType:P,onValueDisplayTypeChange:U,onTimeRangeChange:H,timeRange:B,yDomain:ey,comparisonMode:!0,primaryStartingEquity:e.startingEquity,secondaryStartingEquity:t.startingEquity}):null}if("pnl"===_)return(0,n.jsx)(G,{data:eb,width:ep.width,height:ep.height,chartDataType:_,valueDisplayType:P,onValueDisplayTypeChange:U,onTimeRangeChange:H,onModelClick:ej,timeRange:B,yDomain:ey,chartViewType:q,onChartViewTypeChange:z});if(y&&eb.length>0){var e,t,i,l,a,r;return(0,n.jsx)($,{data:(null==(e=eb[0])?void 0:e.data)||[],color:(null==(t=eb[0])?void 0:t.color)||"#6b7280",icon:(null==(i=eb[0])?void 0:i.icon)||"",id:(null==(l=eb[0])?void 0:l.id)||"unknown",name:(null==(a=eb[0])?void 0:a.name)||"Unknown",startingEquity:(null==(r=eb[0])?void 0:r.startingEquity)||(0,g.w3)(),width:ep.width,height:ep.height,chartDataType:_,valueDisplayType:P,onValueDisplayTypeChange:U,onTimeRangeChange:H,trades:x.filterTrades(ed,y),onModelClick:ej,timeRange:B,yDomain:ey,xDomain:Y?[Y.startTime,Y.endTime]:void 0,comparisonMode:!1,onDataPointClick:ek},"focused-".concat(y))}return(0,n.jsx)(W,{data:eb,valueDisplayType:P,chartDataType:_,models:eg.map(e=>{var t;return{id:e.id,startingEquity:(0,g.w3)(),currentValue:(null==(t=e.data[e.data.length-1])?void 0:t.v)||0}}),onModelClick:ej,onValueDisplayTypeChange:U,chartViewType:q,onChartViewTypeChange:z,onTimeRangeChange:H,width:ep.width,height:ep.height,timeRange:B,yDomain:ey,comparisonMode:!1},"all-models")})(),Y&&(0,n.jsx)("div",{className:"absolute bottom-4 right-4 z-10",children:(0,n.jsx)("button",{onClick:()=>Q(null),className:"cursor-pointer border border-green-800 bg-green-600 px-4 py-2 font-mono text-sm font-bold text-white transition-none hover:bg-green-700",children:"RESET_ZOOM"})}),(0,n.jsx)("div",{className:"absolute left-1/2 bottom-1 -translate-x-1/2 transform md:hidden z-10",children:(0,n.jsx)(ee,{timeRange:B,setTimeRange:H})})]}),(0,n.jsx)("div",{className:"absolute right-1 top-1 md:right-2 md:top-2 z-10 hidden md:block",children:(0,n.jsx)(ee,{timeRange:B,setTimeRange:H})}),(0,n.jsx)("div",{className:"absolute left-1 top-1 md:left-2 md:top-2 z-10 hidden md:block",children:(0,n.jsxs)("div",{className:"flex border border-black bg-white text-[6px] md:text-sm w-fit",children:[(0,n.jsx)("button",{onClick:()=>U("dollar"),className:"terminal-button-small border-r border-black px-1 py-0.5 whitespace-nowrap flex-shrink-0 ".concat("dollar"===P?"active":""),children:"$"}),(0,n.jsx)("button",{onClick:()=>U("percentage"),className:"terminal-button-small px-1 py-0.5 whitespace-nowrap flex-shrink-0 ".concat("percentage"===P?"active":""),children:"%"})]})}),(0,n.jsx)("div",{className:"absolute left-1/2 top-1 md:top-2 z-10 -translate-x-1/2 transform",children:(0,n.jsxs)("div",{className:"flex flex-row items-center gap-2",children:[y&&(0,n.jsx)(ec,{onClick:eN}),(0,n.jsx)(et,{chartDataType:_,setChartDataType:I})]})}),(0,n.jsx)("div",{className:"flex-shrink-0 bg-white hidden md:block",children:(0,V.Z)()?(0,n.jsx)("div",{className:"border-t-2 border-border",children:(0,n.jsx)("div",{className:"relative bg-surface p-3 md:p-4",children:(0,n.jsxs)("div",{className:"terminal-text text-center",children:[(0,n.jsx)("div",{className:"text-sm md:text-base font-bold mb-1",children:"Alpha Arena Season 1 is now over, as of Nov 3rd, 2025 5 p.m. EST"}),(0,n.jsx)("div",{className:"text-xs md:text-sm",children:"Season 1.5 coming soon"})]})})}):(0,n.jsx)(el,{models:eE,valueDisplayType:P,focusedModel:y,selectedModels:E,hoveredModel:S,comparisonSelectionMode:D,onModelClick:ej,onStartComparison:ew,onExitComparison:eT,onBackToAllModels:eN,setHoveredModel:M})})]})})}function ec(e){let{onClick:t}=e,i=f("Escape");return(0,l.useEffect)(()=>{i&&t()},[i]),(0,n.jsx)("button",{onClick:t,className:"cursor-pointer border border-green-800 bg-green-600 px-1.5 py-0.5 md:px-3 md:py-1 font-mono text-[8px] md:text-xs font-medium text-white transition-none hover:bg-green-700",children:"BACK TO ALL"})}function ed(e){let{label:t,name:i,currentEquity:l,pnlPct:a,accent:s,icon:r}=e;return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("span",{className:"text-foreground-subtle",children:[t.toUpperCase(),":"," ",r&&(0,n.jsx)("img",{src:r,alt:i,className:"mr-2 inline size-4"}),(0,n.jsx)("span",{className:"text-foreground",children:i.toUpperCase()})," "]}),(0,n.jsxs)("span",{className:"text-black font-bold inline-flex items-baseline",children:[(0,n.jsx)("span",{children:"$"}),(0,n.jsx)(E,{value:l,duration:600,decimals:2,trend:"positive"===s?1:-1,format:{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}})]}),(0,n.jsxs)("span",{className:(0,v.r9)(a>=0),children:[a>=0?"+":"",a.toFixed(2),"%"]})]})}function em(e){let{label:t,icon:i,name:l,equity:a,tone:s}=e;return(0,n.jsx)("div",{className:"flex items-center space-x-2",children:(0,n.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,n.jsxs)("span",{className:"text-foreground-subtle",children:[t,":"]}),(0,n.jsx)("img",{src:i||"/logos/NOF1 SQUARE WHITE.png",alt:l,className:"h-4 w-4 rounded"}),(0,n.jsxs)("span",{className:"text-black font-bold inline-flex items-baseline",children:[(0,n.jsx)("span",{children:"$"}),(0,n.jsx)(E,{value:a,duration:600,decimals:2,trend:"positive"===s?1:-1,format:{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}})]})]})})}var ex=i(2851),eu=i.n(ex);let eh={btc:"/coins/btc.svg",eth:"/coins/eth.svg",sol:"/coins/sol.svg",doge:"/coins/doge.svg",xrp:"/coins/xrp.svg",bnb:"/coins/bnb.svg"};function ep(e){let{coin:t,className:i}=e;return(0,n.jsx)("img",{src:eh[eu().toLower(t)],alt:t,className:i})}function ef(e){let{trade:t}=e,i=Math.abs((t.quantity||0)*(t.entry_price||0)),l=Math.abs((t.quantity||0)*(t.exit_price||0)),a=function(e,t){let i=(t-e)*1e3,n=Math.floor(i/36e5),l=Math.floor(i%36e5/6e4);return n>0?"".concat(n,"H ").concat(l,"M"):"".concat(l,"M")}(t.entry_time,t.exit_time);return t.exit_price,t.entry_price,(0,n.jsxs)("div",{className:"relative space-y-0.5 text-[10px] sm:text-xs",children:[(0,n.jsxs)("div",{className:"font-mono text-black font-normal",children:["Price: ",(0,v.F)(t.entry_price||0)," â†’ ",(0,n.jsx)("span",{className:"text-black",children:(0,v.F)(t.exit_price||0)})]}),(0,n.jsxs)("div",{className:"font-mono text-black font-normal",children:["Quantity: ",t.quantity&&t.quantity<0?"-":"",Math.abs(t.quantity||0).toFixed(2)]}),(0,n.jsxs)("div",{className:"font-mono text-black font-normal",children:["Notional: ",(0,v.vv)(i)," â†’ ",(0,n.jsx)("span",{className:"text-black",children:(0,v.vv)(l)})]}),(0,n.jsxs)("div",{className:"font-mono text-black font-normal",children:["Holding time: ",a]}),(0,n.jsxs)("div",{className:"mt-3 flex items-center space-x-2",children:[(0,n.jsx)("span",{className:"font-mono text-xs sm:text-sm text-black font-normal uppercase tracking-wide",children:"Net P&L:"}),(0,n.jsxs)("span",{className:"font-mono text-sm sm:text-base font-semibold ".concat((t.realized_net_pnl||0)>=0?"text-green-600":"text-red-600"),children:[(t.realized_net_pnl||0)>=0?"$":"-$",Math.abs(t.realized_net_pnl||0).toFixed(2)]})]})]})}function eg(e){let t=(0,m.dn)(e.model_id);return(0,n.jsx)("div",{className:"group bg-white transition-all duration-300",style:{backgroundColor:(null==t?void 0:t.color)?"".concat(t.color,"08"):"white"},children:(0,n.jsxs)("div",{className:"border-b border-gray-400 p-1 sm:p-2 mx-1 sm:mx-2",children:[(0,n.jsxs)("div",{className:"mb-1.5 flex items-start justify-between",children:[(0,n.jsxs)("div",{className:"flex items-center gap-2 max-w-[75%]",children:[(0,n.jsx)("img",{src:null==t?void 0:t.icon,alt:null==t?void 0:t.name,className:"size-4"}),(0,n.jsxs)("span",{className:"font-mono text-[10px] sm:text-xs text-black font-semibold",children:[(0,n.jsx)("span",{style:{color:(null==t?void 0:t.color)||"inherit"},children:null==t?void 0:t.name})," completed a"," ",(0,n.jsx)("span",{className:"".concat("long"===e.trade_type?"terminal-positive":"terminal-negative"),children:e.trade_type})," ","trade on"," ",(0,n.jsxs)("span",{className:"inline-flex items-baseline gap-1 font-semibold",children:[(0,n.jsx)(ep,{coin:e.symbol,className:"size-3 pt-0.5"}),e.symbol]}),"!"]})]}),(0,n.jsx)("span",{className:"font-mono text-[10px] text-gray-500 font-normal",children:new Date(1e3*e.exit_time).toLocaleString("en-US",{month:"2-digit",day:"2-digit",hour:"numeric",minute:"2-digit",hour12:!0})})]}),(0,n.jsx)(ef,{trade:e})]})})}function ev(e){let{terminalClassName:t,feedName:i,statusText:l}=e;return(0,n.jsxs)("div",{className:"".concat(t," space-y-1 p-2"),children:[(0,n.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,n.jsx)("span",{className:t,children:">"}),(0,n.jsx)(s(),{text:"INITIALIZING ".concat(i," FEED..."),speed:100,typingDelay:0,eraseDelay:1e4})]}),(0,n.jsxs)("div",{className:"ml-4 flex items-center space-x-2",children:[(0,n.jsx)("span",{className:"terminal-warning",children:"["}),(0,n.jsx)("span",{className:"animate-pulse",children:"â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ"}),(0,n.jsx)("span",{className:"terminal-warning",children:"]"})]}),(0,n.jsx)("div",{className:"ml-4 flex items-center space-x-2",children:(0,n.jsxs)("span",{className:"terminal-blue",children:["STATUS: ",l]})})]})}function eb(e){let{error:t}=e;return(0,n.jsx)("div",{className:"terminal-text flex h-full min-h-0 flex-1 flex-col overflow-hidden bg-surface p-4 text-xs",children:(0,n.jsxs)("div",{className:"terminal-negative space-y-1",children:[(0,n.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,n.jsx)("span",{className:"terminal-negative",children:">"}),(0,n.jsx)("span",{children:"ERROR: CONNECTION FAILED"})]}),(0,n.jsxs)("div",{className:"terminal-negative ml-4",children:[(0,n.jsx)("div",{children:"CODE: 0x0000003C"}),(0,n.jsx)("div",{children:"DESC: UNABLE TO FETCH POSITION DATA"}),t&&(0,n.jsxs)("div",{children:["DETAIL: ",t]})]})]})})}function ey(e){var t;let{focusedModel:i,onChange:a,tradeCount:s,mobileMode:o=!1}=e,[c,d]=(0,l.useState)(!1),m=function(e){let t=(0,l.useRef)(null),i=f("Escape");(0,l.useEffect)(function(){i&&e()},[i]);let n=i=>{t.current&&!t.current.contains(i.target)&&e()};return(0,l.useEffect)(()=>(document.addEventListener("mousedown",n),()=>{document.removeEventListener("mousedown",n)}),[t,e]),t}(()=>d(!1)),{models:x}=(0,r.Q)(),u=x.filter(e=>!e.id.includes("buynhold")).map(e=>({id:e.id,name:e.name,icon:e.icon})).filter((e,t,i)=>i.findIndex(t=>t.id===e.id)===t),h=i?(null==(t=u.find(e=>e.id===i))?void 0:t.name.toUpperCase())||i.toUpperCase():"ALL MODELS";return(0,n.jsx)("div",{className:o?"":"border-b border-border bg-surface-elevated px-2 pb-1",children:(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[(0,n.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,n.jsx)("span",{className:"text-terminal-green font-mono text-xs font-bold",children:"FILTER:"}),(0,n.jsxs)("div",{className:"relative",ref:m,children:[(0,n.jsxs)("button",{onClick:()=>d(!c),className:"terminal-text hover:border-terminal-green focus:border-terminal-green flex items-center space-x-1 border border-border bg-surface px-1 py-0.5 font-mono text-xs font-normal focus:outline-none",children:[(0,n.jsx)("span",{children:h}),(0,n.jsx)("span",{className:"text-terminal-green",children:"â–¼"})]}),c&&(0,n.jsxs)("div",{className:"absolute left-0 top-full z-50 mt-1 min-w-[140px] border border-border bg-surface shadow-lg",children:[(0,n.jsx)("div",{className:"terminal-text cursor-pointer px-2 py-1 font-mono text-xs hover:bg-surface-elevated",onClick:()=>{a(null),d(!1)},children:"ALL MODELS"}),u.map(e=>(0,n.jsxs)("div",{className:"terminal-text flex cursor-pointer items-center space-x-1 px-2 py-1 font-mono text-xs hover:bg-surface-elevated",onClick:()=>{a(e.id),d(!1)},children:[(0,n.jsx)("img",{src:e.icon||"/logos/NOF1 SQUARE WHITE.png",alt:e.name,className:"size-3 flex-shrink-0"}),(0,n.jsx)("span",{children:e.name.toUpperCase()})]},e.id))]})]}),i&&(0,n.jsx)("button",{onClick:()=>a(null),className:"terminal-text text-terminal-negative px-1 font-mono text-[11px] hover:text-red-400",children:"CLEAR"})]}),void 0!==s&&(0,n.jsxs)("span",{className:"text-terminal-green font-mono text-xs ml-auto text-right",children:["Showing Last ",s," Trades"]})]})})}function ej(e){let{focusedModel:t}=e;return(0,n.jsx)("div",{className:"terminal-text space-y-1",children:(0,n.jsxs)("div",{className:"ml-4 terminal-text text-md",children:[(0,n.jsx)("div",{children:"AWAITING TRADE EXECUTION..."}),(0,n.jsx)("div",{className:"font-medium",children:"NO POSITIONS HAVE CLOSED FOR THIS MODEL"}),(0,n.jsx)("div",{className:"font-medium",children:"VIEW POSITIONS TAB FOR OPEN POSITIONS"})]})})}function eN(){let{focusedModel:e,focusModel:t}=p(),{trades:i,lastUpdateTime:l,isLoading:a,error:s}=(0,o.d)(),r=x.filterTrades(i,e).sort((e,t)=>t.exit_time-e.exit_time);return(0,n.jsx)("div",{className:"live-trades terminal-text flex h-full min-h-0 flex-1 flex-col overflow-hidden font-mono text-xs font-black",children:a?(0,n.jsx)(ev,{terminalClassName:"terminal-positive",feedName:"TRADE",statusText:"CONNECTING TO SERVER"}):s?(0,n.jsx)(eb,{}):(0,n.jsxs)("div",{className:"flex h-full flex-col",children:[(0,n.jsx)("div",{className:"hidden md:block",children:(0,n.jsx)(ey,{focusedModel:e,onChange:t,tradeCount:r.length>0?Math.min(100,r.length):void 0})}),0===r.length?(0,n.jsx)(ej,{focusedModel:e}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:"sticky top-0 z-10 hidden border-b-2 border-border pb-1 backdrop-blur"}),(0,n.jsx)("div",{className:"overflow-auto",children:r.slice(0,100).map(e=>(0,n.jsx)("div",{className:"transition-all duration-300 ease-out",children:(0,n.jsx)(eg,{...e})},e.id))})]})]})})}var ew=i(8284);i(3261);var eT=i(8230),ek=i.n(eT),eE=i(4741),eC=i(1906),eS=i(2728),eM=i(1928);let eD={code:function(e){let{node:t,inline:i,className:l,children:a,...s}=e;return i?(0,n.jsx)("code",{className:"".concat(l," rounded-md bg-zinc-100 px-1 py-0.5 text-sm dark:bg-zinc-800"),...s,children:a}):(0,n.jsx)("div",{className:"not-prose flex flex-col",children:(0,n.jsx)("pre",{...s,className:"w-full overflow-x-auto rounded-xl border border-zinc-200 p-4 text-sm text-zinc-900 dark:border-zinc-700 dark:bg-zinc-900 dark:text-zinc-50",children:(0,n.jsx)("code",{className:"whitespace-pre-wrap break-words",children:a})})})},blockquote:e=>{let{node:t,children:i,...l}=e;return(0,n.jsx)("blockquote",{className:"my-2 rounded-r border-l-4 border-zinc-300 bg-zinc-50 py-1 pl-4 text-zinc-700 dark:border-zinc-700 dark:bg-zinc-900/50 dark:!text-zinc-200",...l,children:i})},th:e=>{let{node:t,children:i,...l}=e;return(0,n.jsx)("th",{className:"dark:text-zinc-100",...l,children:i})},pre:e=>{let{children:t}=e;return(0,n.jsx)(n.Fragment,{children:t})},ol:e=>{let{node:t,children:i,...l}=e;return(0,n.jsx)("ol",{className:"ml-4 list-outside list-decimal",...l,children:i})},li:e=>{let{node:t,children:i,...l}=e;return(0,n.jsx)("li",{className:"py-1",...l,children:i})},ul:e=>{let{node:t,children:i,...l}=e;return(0,n.jsx)("ul",{className:"ml-4 list-outside list-decimal",...l,children:i})},strong:e=>{let{node:t,children:i,...l}=e;return(0,n.jsx)("span",{className:"font-semibold",...l,children:i})},a:e=>{let{node:t,children:i,...l}=e;return(0,n.jsx)(ek(),{className:"text-blue-500 hover:underline",target:"_blank",rel:"noreferrer",...l,children:i})},h1:e=>{let{node:t,children:i,...l}=e;return(0,n.jsx)("h1",{className:"mb-2 mt-6 text-3xl font-semibold dark:text-zinc-100",...l,children:i})},h2:e=>{let{node:t,children:i,...l}=e;return(0,n.jsx)("h2",{className:"mb-2 mt-6 text-2xl font-semibold dark:text-zinc-100",...l,children:i})},h3:e=>{let{node:t,children:i,...l}=e;return(0,n.jsx)("h3",{className:"mb-2 mt-6 text-sm font-semibold text-black dark:text-zinc-400",...l,children:i})},h4:e=>{let{node:t,children:i,...l}=e;return(0,n.jsx)("h4",{className:"mb-2 mt-6 text-lg font-semibold dark:text-zinc-100",...l,children:i})},h5:e=>{let{node:t,children:i,...l}=e;return(0,n.jsx)("h5",{className:"mb-2 mt-6 text-base font-semibold dark:text-zinc-100",...l,children:i})},h6:e=>{let{node:t,children:i,...l}=e;return(0,n.jsx)("h6",{className:"mb-2 mt-6 text-sm font-semibold dark:text-zinc-100",...l,children:i})}},eA=[eC.A,eM.A],eO=(0,l.memo)(e=>{let{children:t}=e;return(0,n.jsx)(eE.oz,{remarkPlugins:eA,rehypePlugins:[eS.A],components:eD,children:t})},(e,t)=>e.children===t.children);function eL(e){let{title:t,open:i,onToggle:l,children:a}=e;return(0,n.jsxs)("div",{children:[(0,n.jsxs)("button",{onClick:e=>{e.stopPropagation(),l()},className:"mb-2 flex w-full items-center space-x-2 text-left",children:[(0,n.jsx)("span",{className:"transform text-foreground-subtle transition-transform ".concat(i?"rotate-90":""),children:"â–¶"}),(0,n.jsx)("span",{className:"font-mono text-sm text-foreground-subtle",children:t})]}),i&&(0,n.jsx)("div",{className:"ml-4",children:a})]})}let e_=["BTC","ETH","DOGE","SOL","XRP","BNB"],eI={buy_to_enter:"bg-accent-success/20 border-accent-success text-accent-success",sell_to_enter:"bg-accent-error/20 border-accent-error text-accent-error",close_position:"bg-accent-warning/20 border-accent-warning text-accent-warning",hold:"bg-blue-500/20 border-blue-500 text-blue-500"};function eq(e){let{modelName:t,modelLogo:i,modelColor:l,firstSentence:a,timestamp:s,llmResponse:r,conversationId:o,onViewFullConversation:c,isExpanded:d,conversation:m,showCotTrace:x,setShowCotTrace:u,showTradingDecisions:h,setShowTradingDecisions:p,showUserPrompt:f,setShowUserPrompt:g}=e;return(0,n.jsx)(n.Fragment,{children:(0,n.jsx)("div",{className:"group",children:(0,n.jsxs)("div",{className:"group cursor-pointer bg-white px-2 py-2 transition-colors hover:opacity-80",onClick:()=>c(o),children:[(0,n.jsxs)("div",{className:"flex space-x-2",children:[(0,n.jsx)("img",{src:i,alt:t,className:"size-6 flex-shrink-0 mt-6"}),(0,n.jsxs)("div",{className:"flex-1",children:[(0,n.jsxs)("div",{className:"flex justify-between items-center mb-1",children:[(0,n.jsx)("span",{className:"terminal-text text-sm font-semibold",style:{color:l},children:t.toUpperCase()}),(0,n.jsx)("span",{className:"terminal-text text-[9px] text-gray-500",children:s})]}),(0,n.jsxs)("div",{className:"relative rounded p-3 border",style:{borderColor:l,backgroundColor:"".concat(l,"0D")},children:[(0,n.jsx)("div",{className:"terminal-text text-xs leading-relaxed text-black",children:a}),(0,n.jsx)("div",{className:"absolute right-2 pointer-events-none",style:{bottom:"0.08rem"},children:(0,n.jsx)("span",{className:"text-[8px] text-gray-400 italic",children:"click to expand"})})]})]})]}),(0,n.jsxs)("div",{className:"mt-3 space-y-3 border-t border-gray-800 pt-3 ".concat(d&&m?"min-h-[100px]":"min-h-0 hidden"," transition-all"),children:[m.user_prompt&&(0,n.jsx)(eL,{title:"USER_PROMPT",open:f,onToggle:()=>g(!f),children:(0,n.jsx)("div",{className:"rounded border border-border bg-surface-elevated p-3 text-black",children:(0,n.jsx)(eO,{children:m.user_prompt})})}),(0,n.jsx)(eL,{title:"CHAIN_OF_THOUGHT",open:x,onToggle:()=>u(!x),children:(0,n.jsx)("div",{className:"rounded border border-border bg-surface-elevated p-3 text-black",children:m.cot_trace?"string"==typeof m.cot_trace?(0,n.jsx)(eO,{children:m.cot_trace}):"object"==typeof m.cot_trace&&null!==m.cot_trace&&0===Object.keys(m.cot_trace).length?(0,n.jsx)("div",{className:"py-4 text-center font-mono text-foreground-subtle",children:"No chain of thought available"}):(0,n.jsx)(eO,{children:JSON.stringify(m.cot_trace,null,2)}):(0,n.jsx)("div",{className:"text-gray-500 italic",children:"Chain of Thought is not available for this model"})})}),(0,n.jsx)(eL,{title:"TRADING_DECISIONS",open:h,onToggle:()=>p(!h),children:m.llm_response?"object"==typeof m.llm_response&&null!==m.llm_response&&Object.keys(m.llm_response).some(e=>e_.includes(e))?(0,n.jsx)("div",{className:"grid grid-cols-1 gap-3",children:Object.entries(m.llm_response).sort((e,t)=>{var i,n;let[,l]=e,[,a]=t,s=null==l||null==(i=l.signal)?void 0:i.toLowerCase(),r=null==a||null==(n=a.signal)?void 0:n.toLowerCase();return"hold"===s&&"hold"!==r?1:"hold"!==s&&"hold"===r?-1:0}).map(e=>{let[t,i]=e;return(0,n.jsxs)("div",{className:"rounded border border-border bg-surface-elevated p-3 transition-colors hover:bg-surface-hover",children:[(0,n.jsxs)("div",{className:"mb-2 flex items-center justify-between",children:[(0,n.jsx)("span",{className:"font-mono font-bold text-foreground",children:t}),(0,n.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,n.jsx)("span",{className:"rounded border px-2 py-1 font-mono text-xs ".concat(function(e){let t=null==e?void 0:e.toLowerCase();return t&&eI[t]||"border-border bg-surface-hover text-foreground-subtle"}(i.signal)),children:i.signal.replace("_"," ").toUpperCase()}),(0,n.jsxs)("span",{className:"font-mono text-xs text-foreground-subtle",children:[Math.round(100*i.confidence),"%"]})]})]}),(0,n.jsx)("div",{className:"mb-2",children:(0,n.jsx)(eO,{children:i.justification})}),(0,n.jsxs)("p",{className:"font-mono text-xs text-foreground-subtle",children:["QUANTITY: ",i.quantity]})]},t)})}):(0,n.jsx)("div",{className:"rounded border border-border bg-surface-elevated p-3",children:"object"==typeof m.llm_response&&null!==m.llm_response&&0===Object.keys(m.llm_response).length?(0,n.jsx)("div",{className:"py-4 text-center font-mono text-foreground-subtle",children:"No trading decisions to show"}):(0,n.jsx)(eO,{children:"string"==typeof m.llm_response?m.llm_response:"object"==typeof m.llm_response&&null!==m.llm_response?JSON.stringify(m.llm_response,null,2):String(m.llm_response)})}):(0,n.jsx)("div",{className:"py-4 text-center font-mono text-foreground-subtle",children:"NO TRADING DECISIONS AVAILABLE"})})]})]})})})}function ez(){var e;let{focusedModel:t,focusModel:i}=p(),{conversations:a,isLoading:s,error:r,newConversations:o,clearNewConversations:c}=function(){var e,t;let[i,n]=(0,l.useState)([]),{data:a,error:s,isLoading:r,mutate:o}=(0,ew.Y)("/api/conversations",{revalidateOnFocus:!1,revalidateOnReconnect:!1,refreshInterval:15e3*!(0,V.Z)()}),c=(null!=(e=null==a?void 0:a.conversations)?e:[]).map(e=>{let t=function(e){let t=e.split("_"),i=parseFloat(t[t.length-1]);return isNaN(i)?null:i}(e.id),i=e.model_name||e.id.split("_")[0];return{id:e.id,run_id:e.run_id||"",model_name:i,cot_trace:e.cot_trace,cot_trace_summary:e.cot_trace_summary,user_prompt:e.user_prompt,llm_response:e.llm_response,cycle_id:e.cycle_id,timestamp:e.timestamp,trade_exit_time:null!=t?t:0,trade_log_count:0,model_id:i,symbol:"N/A",realized_net_pnl:void 0}}).filter(e=>e.trade_exit_time>0?!(0,b.fU)(e.trade_exit_time,e.timestamp):!e.timestamp||!(0,b.fU)(0,e.timestamp)).sort((e,t)=>{let i=e.trade_exit_time>0?e.trade_exit_time:e.timestamp?e.timestamp/1e3:0;return(t.trade_exit_time>0?t.trade_exit_time:t.timestamp?t.timestamp/1e3:0)-i}),d=new Set(c.map(e=>e.model_id)).size,m=new Set(c.map(e=>e.run_id)).size,x={totalConversations:c.length,uniqueModels:d,uniqueRunIds:m},u=null!=(t=null==a?void 0:a.serverTime)?t:null;return{conversations:c,isLoading:r,isInitialLoad:r,error:s?s instanceof Error?s.message:"Failed to fetch conversations":null,lastUpdateTime:u,serverTime:u,refresh:o,stats:x,newConversations:i,clearNewConversations:()=>{n([])}}}(),[d,u]=(0,l.useState)(null),[h,f]=(0,l.useState)(!0),[g,v]=(0,l.useState)(!0),[y,j]=(0,l.useState)(!0);(0,l.useEffect)(()=>{if(o.length>0){let e=setTimeout(()=>{c()},3e3);return()=>clearTimeout(e)}},[o,c]);let N=e=>{u(t=>t===e?null:e)};if(s)return(0,n.jsx)("div",{className:"terminal-text flex h-full min-h-0 flex-1 flex-col overflow-hidden bg-surface text-xs",children:(0,n.jsx)(ev,{terminalClassName:"text-foreground",feedName:"CHAT",statusText:"CONNECTING TO CONVERSATION API"})});if(r)return(0,n.jsx)(eb,{error:r});let w=x.filterConversations(a,t).filter(e=>e.cot_trace_summary).slice(0,200);return(0,n.jsxs)("div",{className:"terminal-text flex h-full min-h-0 flex-1 flex-col overflow-hidden bg-surface text-xs",children:[(0,n.jsx)("div",{className:"hidden md:block",children:(0,n.jsx)(ey,{focusedModel:t,onChange:i})}),0===w.length?(0,n.jsx)("div",{className:"p-4",children:(0,n.jsxs)("div",{className:"space-y-1 text-foreground-subtle",children:[(0,n.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,n.jsx)("span",{className:"text-foreground",children:">"}),(0,n.jsx)("span",{children:"SYSTEM READY"})]}),(0,n.jsxs)("div",{className:"ml-4",children:[(0,n.jsx)("div",{className:"text-foreground-subtle",children:"AWAITING MODEL CONVERSATIONS..."}),(0,n.jsx)("div",{className:"text-foreground-subtle",children:"NO ACTIVE CHAT SESSIONS"}),t&&(0,n.jsxs)("div",{className:"terminal-text mt-2 text-foreground",children:["FILTER: ",((null==(e=(0,m.dn)(t))?void 0:e.name)||t).toUpperCase()]})]})]})}):(0,n.jsx)("div",{className:"scrollbar-thin scrollbar-thumb-gray-400 scrollbar-track-gray-200 min-h-0 flex-1 overflow-auto",children:(0,n.jsx)("div",{className:"space-y-0",children:w.map(e=>{let t,i=(e=>{if(!e||"string"!=typeof e)return{name:"Unknown Model",icon:"/logos/OpenAI_logo.png",color:"#10B981"};let t=(0,m.dn)(e),i=null==t?void 0:t.id;return t?{id:i,name:t.name,icon:t.icon,color:t.color}:{id:e,name:e,icon:"/logos/NOF1 SQUARE WHITE.png",color:"#6b7280"}})(e.model_name),l=(e=>{var t;if(!e||"string"!=typeof e)return"No reasoning available";let i=null==(t=e.split(/[.!?]+/)[0])?void 0:t.trim();return i&&i.length>150?i.substring(0,147)+"...":i||"No reasoning available"})(e.cot_trace||""),a=e.cot_trace_summary||l,s=function(e){let t=new Date(1e3*e),i=t.toLocaleDateString("en-US",{month:"2-digit",day:"2-digit"}),n=null==t?void 0:t.toLocaleTimeString("en-US",{hour12:!1,hour:"2-digit",minute:"2-digit",second:"2-digit"});return"".concat(i," ").concat(n)}(e.trade_exit_time);return t=e.id,o.some(e=>e.id===t),(0,n.jsx)("div",{className:"transition-all duration-300 ease-out",children:(0,n.jsx)(eq,{modelName:i.name,modelLogo:i.icon,modelColor:i.color,firstSentence:a,timestamp:s,llmResponse:e.llm_response,conversationId:e.id,onViewFullConversation:N,isExpanded:d===e.id,conversation:e,showCotTrace:h,setShowCotTrace:f,showUserPrompt:g,setShowUserPrompt:v,showTradingDecisions:y,setShowTradingDecisions:j})},e.id)})})})]})}function eF(e){let t=(0,m.mA)(e);return"grok-4"===e?"#000000":(null==t?void 0:t.color)||"#6b7280"}function eR(e){let{onNavigateToLiveTrades:t}=e;return(0,n.jsx)("div",{className:"prose flex h-full flex-col overflow-y-auto bg-white p-6",children:(0,n.jsxs)("div",{className:"min-h-0 space-y-6 pb-32 text-[13px] leading-relaxed text-black terminal-text",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{className:"font-bold text-gray-800 mb-3 text-base",children:"A Better Benchmark"}),(0,n.jsx)("b",{children:"Alpha Arena"})," is the first benchmark designed to measure AI's investing abilities. Each model is given $10,000 of ",(0,n.jsx)("b",{className:"terminal-positive",children:"real money"}),", in ",(0,n.jsx)("b",{className:"terminal-positive",children:"real markets"}),", with identical prompts and input data."]}),(0,n.jsx)("div",{children:"Our goal with Alpha Arena is to make benchmarks more like the real world, and markets are perfect for this. They're dynamic, adversarial, open-ended, and endlessly unpredictable. They challenge AI in ways that static benchmarks cannot."}),(0,n.jsx)("div",{children:(0,n.jsx)("b",{children:"Markets are the ultimate test of intelligence."})}),(0,n.jsx)("div",{children:"So do we need to train models with new architectures for investing, or are LLMs good enough? Let's find out."}),(0,n.jsx)("div",{className:"my-6 h-px w-full rounded bg-black"}),(0,n.jsxs)("div",{className:"space-y-3",children:[(0,n.jsx)("div",{children:(0,n.jsx)("span",{className:"font-bold text-gray-800 text-base",children:"The Contestants"})}),(0,n.jsx)("div",{className:"ml-4",children:(0,n.jsxs)("div",{className:"flex flex-wrap gap-x-2 gap-y-2",children:[(0,n.jsx)("span",{style:{color:eF("claude-sonnet-4-5")},className:"font-medium",children:"Claude 4.5 Sonnet,"}),(0,n.jsx)("span",{style:{color:eF("deepseek-chat-v3.1")},className:"font-medium",children:"DeepSeek V3.1 Chat,"}),(0,n.jsx)("span",{style:{color:eF("gemini-2.5-pro")},className:"font-medium",children:"Gemini 2.5 Pro,"}),(0,n.jsx)("span",{style:{color:eF("gpt-5")},className:"font-medium",children:"GPT 5,"}),(0,n.jsx)("span",{style:{color:eF("grok-4")},className:"font-medium",children:"Grok 4,"}),(0,n.jsx)("span",{style:{color:eF("qwen3-max")},className:"font-medium",children:"Qwen 3 Max"})]})})]}),(0,n.jsx)("div",{className:"my-6 h-px w-full rounded bg-black"}),(0,n.jsxs)("div",{className:"space-y-3",children:[(0,n.jsx)("div",{children:(0,n.jsx)("span",{className:"font-bold text-gray-800 text-base",children:"Competition Rules"})}),(0,n.jsxs)("div",{className:"ml-4 space-y-1",children:[(0,n.jsxs)(eP,{children:[(0,n.jsx)("b",{children:"Starting Capital:"})," each model gets $10,000 of real capital"]}),(0,n.jsxs)(eP,{children:[(0,n.jsx)("b",{children:"Market:"})," Crypto perpetuals on Hyperliquid"]}),(0,n.jsxs)(eP,{children:[(0,n.jsx)("b",{children:"Objective:"})," Maximize risk-adjusted returns."]}),(0,n.jsxs)(eP,{children:[(0,n.jsx)("b",{children:"Transparency:"})," All model outputs and their corresponding trades are public."]}),(0,n.jsxs)(eP,{children:[(0,n.jsx)("b",{children:"Autonomy:"})," Each AI must produce alpha, size trades, time trades and manage risk."]}),(0,n.jsxs)(eP,{children:[(0,n.jsx)("b",{children:"Duration:"})," Season 1 will run until November 3rd, 2025 at 5 p.m. EST"]})]})]}),(0,n.jsx)("div",{className:"h-8"})]})})}function eP(e){let{children:t}=e;return(0,n.jsxs)("div",{className:"flex items-start space-x-2",children:[(0,n.jsx)("span",{style:{color:"#666666"},children:"â””â”€"}),(0,n.jsx)("span",{className:"text-black",children:t})]})}function eU(){var e;let{focusedModel:t,focusModel:i}=p(),{positionPnLs:a}=(0,r.Q)(),{prices:s}=(0,c.r)(),{latestAccountDataByModel:o,isLoading:x,error:u}=(0,d.q)(),[h,f]=(0,l.useState)(null),g=e=>{let t=Math.abs(e);return t>=1e3?t.toFixed(0):t.toFixed(2)};if((0,l.useEffect)(()=>{let e=()=>{h&&f(null)},t=()=>{h&&f(null)};if(h){document.addEventListener("click",e);let i=document.querySelector(".overflow-auto");return i&&i.addEventListener("scroll",t),()=>{document.removeEventListener("click",e),i&&i.removeEventListener("scroll",t)}}},[h]),x)return(0,n.jsx)("div",{className:"terminal-text flex h-full min-h-0 flex-1 flex-col overflow-hidden bg-surface text-xs",children:(0,n.jsx)(ev,{terminalClassName:"text-foreground",feedName:"POSITIONS",statusText:"CONNECTING TO SERVER"})});if(u)return(0,n.jsx)(eb,{error:u});let b=Object.entries(o).reduce((e,i)=>{let[n,l]=i,r=(0,m.dn)(n);if(!r||t&&n!==t)return e;let o=l.positions||{};if(0===Object.keys(o).length)return e;e[n]||(e[n]={modelInfo:r,positions:[]});let c=0;return Object.entries(o).forEach(t=>{let[i,l]=t;if(l){var r,o;let t=l.symbol||l.coin||i,d=(null==(r=a[n])?void 0:r[t])||0;c+=d;let m=(null==(o=s[t])?void 0:o.price)||0,x=l.entry_price||0,u=l.position||l.quantity||0,h=Math.abs(m*u);e[n].positions.push({coin:t,position:u,unrealizedPnl:d,leverage:l.leverage,notional:h,entryPrice:x,currentPrice:m,exitPlan:l.exit_plan,entryTime:l.entry_time})}}),e[n].totalUnrealizedPnl=c,e},{});return(0,n.jsxs)("div",{className:"terminal-text flex h-full min-h-0 flex-1 flex-col overflow-hidden bg-surface text-xs",children:[(0,n.jsx)("div",{className:"hidden md:block",children:(0,n.jsx)(ey,{focusedModel:t,onChange:i})}),(0,n.jsxs)("div",{className:"overflow-auto",children:[(()=>{let e=Object.values(b).filter(e=>{let{modelInfo:t}=e;return!t.id.includes("buynhold")});return e.length>=4&&([e[2],e[3]]=[e[3],e[2]]),e.map(e=>{let{modelInfo:t,positions:i,totalUnrealizedPnl:l}=e;return(0,n.jsxs)("div",{className:"pb-0",style:{backgroundColor:"".concat(t.color,"1A")},children:[(0,n.jsxs)("div",{className:"p-4",children:[(0,n.jsxs)("div",{className:"mb-3 flex items-center justify-between",children:[(0,n.jsxs)("div",{className:"flex items-center",children:[(0,n.jsx)("img",{src:t.icon,alt:t.name,className:"mr-2 size-4"}),(0,n.jsx)("span",{className:"text-sm font-semibold",style:{color:t.color},children:t.name.toUpperCase()})]}),(0,n.jsxs)("div",{className:"text-right pr-3",children:[(0,n.jsx)("span",{className:"text-xs md:text-[11px] font-medium text-black",children:"TOTAL UNREALIZED P&L: "}),(0,n.jsx)("span",{className:"text-xs md:text-[11px] font-medium ".concat(l>=0?"terminal-positive":"terminal-negative"),children:"".concat((0,v.Oi)(l))})]})]}),(0,n.jsxs)("div",{className:"space-y-2 pl-1 pr-1 relative",children:[(0,n.jsxs)("div",{className:"grid grid-cols-6 gap-1 text-[9px] font-medium text-black border-b border-gray-300 pb-1",children:[(0,n.jsx)("div",{children:"SIDE"}),(0,n.jsx)("div",{children:"COIN"}),(0,n.jsx)("div",{children:"LEVERAGE"}),(0,n.jsx)("div",{children:"NOTIONAL"}),(0,n.jsx)("div",{children:"EXIT PLAN"}),(0,n.jsx)("div",{children:"UNREAL P&L"})]}),i.length>0?(0,n.jsx)(n.Fragment,{children:i.map((e,i)=>{let l="".concat(t.id,"-").concat(e.coin),a=(null==h?void 0:h.key)===l;return(0,n.jsxs)("div",{className:"grid grid-cols-6 gap-1 text-xs relative",children:[(0,n.jsx)("div",{className:e.position>0?"terminal-positive":"terminal-negative",children:e.position>0?"LONG":"SHORT"}),(0,n.jsxs)("div",{className:"flex items-center",children:[(0,n.jsx)("img",{src:"/coins/".concat(e.coin.toLowerCase(),".svg"),alt:e.coin,className:"w-4 h-4 mr-1",onError:e=>{e.currentTarget.style.display="none"}}),(0,n.jsx)("span",{children:e.coin})]}),(0,n.jsxs)("div",{children:[e.leverage,"X"]}),(0,n.jsx)("div",{className:e.notional>=0?"terminal-positive":"terminal-negative",children:(0,v.vv)(e.notional)}),(0,n.jsxs)("div",{className:"relative inline-block",children:[(0,n.jsx)("button",{onClick:e=>{if(e.stopPropagation(),a)f(null);else{let t=e.currentTarget.getBoundingClientRect();f({key:l,x:t.right,y:t.top})}},className:"px-2 py-0 text-[8px] border border-gray-400 bg-white hover:bg-gray-50 transition-colors h-4 flex items-center",children:"VIEW"}),a&&h&&(0,n.jsxs)("div",{className:"fixed bg-white border border-gray-300 p-1 text-[10px] shadow-lg z-50 leading-tight min-w-[250px] max-w-[350px]",style:{left:"".concat(h.x-250,"px"),top:"".concat(h.y-10,"px"),transform:"translateY(-100%)"},children:[(0,n.jsx)("div",{className:"font-semibold mb-0.5",children:"Exit Plan:"}),e.exitPlan?(0,n.jsxs)("div",{className:"space-y-0.5",children:[e.exitPlan.profit_target&&(0,n.jsxs)("div",{className:"leading-tight break-words",children:["Target: $",g(e.exitPlan.profit_target)]}),e.exitPlan.stop_loss&&(0,n.jsxs)("div",{className:"leading-tight break-words",children:["Stop: $",g(e.exitPlan.stop_loss)]}),e.exitPlan.invalidation_condition&&(0,n.jsxs)("div",{className:"leading-tight break-words",children:["Invalid Condition: ",e.exitPlan.invalidation_condition]})]}):(0,n.jsx)("div",{className:"leading-tight",children:"No exit plan"})]})]}),(0,n.jsx)("div",{className:e.unrealizedPnl>=0?"terminal-positive":"terminal-negative",children:(e.unrealizedPnl,"".concat((0,v.vv)(e.unrealizedPnl)))})]},i)})}):(0,n.jsxs)("div",{className:"grid grid-cols-6 gap-1 text-xs text-gray-500",children:[(0,n.jsx)("div",{children:"--"}),(0,n.jsx)("div",{children:"--"}),(0,n.jsx)("div",{children:"--"}),(0,n.jsx)("div",{children:"--"}),(0,n.jsx)("div",{children:"--"}),(0,n.jsx)("div",{children:"--"})]})]}),(0,n.jsxs)("div",{className:"mt-2 pl-1 -mb-2",children:[(0,n.jsx)("span",{className:"text-[9px] md:text-[9px] font-medium text-black",children:"AVAILABLE CASH: "}),(0,n.jsx)("span",{className:"text-[9px] md:text-[9px] font-medium text-black",children:(0,v.Oi)((e=>{let t=o[e];return t?(Number(t.dollar_equity)||0)-Object.values(t.positions||{}).reduce((e,t)=>e+(Number(t.margin)||0),0):0})(t.id))})]})]}),(0,n.jsx)("div",{className:"border-b border-gray-600 mx-2"})]},t.id)})})(),0===Object.keys(b).length&&(0,n.jsx)("div",{className:"p-4",children:(0,n.jsxs)("div",{className:"space-y-1 text-foreground-subtle",children:[(0,n.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,n.jsx)("span",{className:"text-foreground",children:">"}),(0,n.jsx)("span",{children:"SYSTEM READY"})]}),(0,n.jsxs)("div",{className:"ml-4",children:[(0,n.jsx)("div",{className:"text-foreground-subtle",children:"AWAITING ACTIVE POSITIONS..."}),(0,n.jsx)("div",{className:"text-foreground-subtle",children:"NO OPEN LONGS OR SHORTS"}),t&&(0,n.jsxs)("div",{className:"terminal-text mt-2 text-foreground",children:["FILTER: ",((null==(e=(0,m.dn)(t))?void 0:e.name)||t).toUpperCase()]})]})]})})]})]})}function eV(){let e,[t,i]=(0,l.useState)("liveTrades");(0,l.useEffect)(()=>{sessionStorage.getItem("hasNavigated")?i("liveTrades"):(i("about"),sessionStorage.setItem("hasNavigated","true"))},[]);let a={activeTab:t,setActiveTab:i};return e="liveTrades"===t?(0,n.jsx)(eN,{}):"modelchat"===t?(0,n.jsx)(ez,{}):"positions"===t?(0,n.jsx)(eU,{}):(0,n.jsx)(eR,{onNavigateToLiveTrades:()=>i("liveTrades")}),(0,n.jsxs)("div",{className:"flex h-full min-h-0 flex-col",children:[(0,n.jsxs)("div",{className:"mb-1 flex border-b-2 border-t md:border-t-0 border-border",children:[(0,n.jsx)(eW,{label:"COMPLETED TRADES",tab:"liveTrades",...a}),(0,n.jsx)(eW,{label:"MODELCHAT",tab:"modelchat",...a}),(0,n.jsx)(eW,{label:"POSITIONS",tab:"positions",...a}),(0,n.jsx)(eW,{label:"README.TXT",tab:"about",...a})]}),(0,n.jsx)("div",{className:"min-h-0 flex-1",children:e})]})}function eW(e){let{activeTab:t,label:i,setActiveTab:l,tab:a}=e;return(0,n.jsx)("button",{onClick:()=>l(a),className:"terminal-text flex-1 border-r-2 border-border px-3 py-0.5 md:py-2 text-[8px] md:text-[10px] ".concat(t===a?"bg-black text-white":"bg-white text-black hover:bg-gray-100"),children:i})}function eB(e){let{isOpen:t,onClose:i,title:a,children:s,headerContent:r}=e;return(0,l.useEffect)(()=>(t?document.body.style.overflow="hidden":document.body.style.overflow="",()=>{document.body.style.overflow=""}),[t]),(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)("div",{className:"fixed top-[136px] bottom-0 right-0 w-full bg-white z-[70] md:hidden transform transition-transform duration-300 ease-in-out flex flex-col ".concat(t?"translate-x-0":"translate-x-full"),children:[(0,n.jsxs)("div",{className:"border-b-2 border-black bg-white flex-shrink-0",children:[(0,n.jsxs)("div",{className:"flex items-center justify-between px-4 py-3",children:[(0,n.jsx)("h2",{className:"terminal-text text-sm font-bold",children:a}),(0,n.jsx)("button",{onClick:i,className:"terminal-text text-xs font-bold text-black bg-red-500/30 hover:bg-red-500/50 border border-red-500/50 transition-colors px-3 py-0","aria-label":"Close",children:"âœ•"})]}),r&&(0,n.jsx)("div",{className:"px-4 pb-3",children:r})]}),(0,n.jsx)("div",{className:"overflow-y-auto flex-1 min-h-0",children:s})]})})}function eH(){let[e,t]=(0,l.useState)(null),{focusedModel:i,focusModel:a}=p(),{trades:s}=(0,o.d)(),r=null,c="",d=null,m=i?s.filter(e=>e.model_id===i):s;return"liveTrades"===e?(r=(0,n.jsx)(eN,{}),c="COMPLETED TRADES",d=(0,n.jsx)(ey,{focusedModel:i,onChange:a,tradeCount:m.length>0?Math.min(100,m.length):void 0,mobileMode:!0})):"modelchat"===e?(r=(0,n.jsx)(ez,{}),c="MODELCHAT",d=(0,n.jsx)(ey,{focusedModel:i,onChange:a,mobileMode:!0})):"positions"===e?(r=(0,n.jsx)(eU,{}),c="POSITIONS",d=(0,n.jsx)(ey,{focusedModel:i,onChange:a,mobileMode:!0})):"about"===e&&(r=(0,n.jsx)(eR,{onNavigateToLiveTrades:()=>t("liveTrades")}),c="README.TXT"),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{className:"md:hidden border-t-2 border-black bg-white",children:[(0,n.jsx)("div",{className:"terminal-text text-center text-[10px] font-bold pt-2 pb-0.5",children:"DETAILED VIEW"}),(0,n.jsx)("div",{className:"grid grid-cols-2 gap-3 px-4 pt-5 pb-4",children:[{label:"COMPLETED TRADES",key:"liveTrades",title:"COMPLETED TRADES",gradientClass:"mobile-button-gradient-blue"},{label:"MODELCHAT",key:"modelchat",title:"MODELCHAT",gradientClass:"mobile-button-gradient-purple"},{label:"POSITIONS",key:"positions",title:"POSITIONS",gradientClass:"mobile-button-gradient-green"},{label:"README.TXT",key:"about",title:"README.TXT",gradientClass:"mobile-button-gradient-orange"}].map(e=>(0,n.jsxs)("button",{onClick:()=>{t(e.key)},className:"terminal-button-small ".concat(e.gradientClass," border border-black flex items-center justify-between py-7 px-4 text-base whitespace-nowrap transition-all duration-200"),style:{lineHeight:"4"},children:[(0,n.jsx)("span",{children:e.label}),(0,n.jsx)("span",{className:"ml-2",children:">"})]},e.key))})]}),(0,n.jsx)(eB,{isOpen:null!==e,onClose:()=>{t(null)},title:c,headerContent:d,children:r})]})}var eG=i(130),eY=i(7661);function e$(e){let{className:t=""}=e,{prices:i,lastUpdateTime:l}=(0,c.r)(),a=e=>"DOGE"===e?4:2;return(0,n.jsx)("div",{className:"flex items-center ".concat(t),children:i&&eY.mG.map((e,t)=>{let l=null==i?void 0:i[e];return l?((0,eY.eo)(l.price,e),(0,n.jsxs)("div",{className:"flex items-center",children:[(0,n.jsxs)("div",{className:"flex flex-col items-center px-6 py-0.5 text-xs",children:[(0,n.jsxs)("div",{className:"flex items-center space-x-1 mb-0.5",children:[(0,n.jsx)(ep,{coin:e,className:"size-3"}),(0,n.jsx)("span",{className:"text-gray-700 font-medium",children:e})]}),(0,n.jsxs)("div",{className:"font-mono text-gray-800 text-sm font-semibold flex items-baseline",children:[(0,n.jsx)("span",{children:"$"}),(0,n.jsx)(E,{value:l.price,duration:600,decimals:a(e),trend:1,format:{style:"decimal",minimumFractionDigits:a(e),maximumFractionDigits:a(e)}})]})]}),t<eY.mG.length-1&&(0,n.jsx)("div",{className:"w-px h-8 bg-gray-300"})]},e)):null})})}function eQ(){let{prices:e}=(0,c.r)(),t=e=>"DOGE"===e?4:2;return(0,n.jsx)("div",{className:"block md:hidden w-full bg-white border-b border-gray-200 h-12 overflow-hidden",children:(0,n.jsx)("div",{className:"flex items-center justify-between h-full",children:e&&eY.mG.map((i,l)=>{let a=null==e?void 0:e[i];return a?(0,n.jsxs)("div",{className:"flex flex-col items-center justify-center flex-1 h-full",children:[(0,n.jsxs)("div",{className:"flex items-center space-x-1 mb-1",children:[(0,n.jsx)(ep,{coin:i,className:"size-2"}),(0,n.jsx)("span",{className:"text-gray-700 font-medium text-[9px]",children:i})]}),(0,n.jsx)("div",{className:"font-mono text-gray-800 text-[9px] font-bold text-center leading-none",children:(0,n.jsx)(E,{value:a.price,duration:600,decimals:t(i),trend:1,format:{style:"currency",currency:"USD",minimumFractionDigits:t(i),maximumFractionDigits:t(i)}})})]},i):null})})})}var eX=i(5961),eZ=i.n(eX);function eK(e){let{timeRange:t,setTimeRange:i,valueDisplayType:a,setValueDisplayType:s}=e,{models:o}=(0,r.Q)(),{focusedModel:c,focusModel:d,clearFocus:x}=p(),u=(0,l.useMemo)(()=>{if(0===o.length)return[];let e=function(){let e=(0,m.br)(),t={};return e.forEach(e=>{let i=(0,m.mA)(e);i&&(t[i.id]=i.color)}),t}();return o.map(t=>{var i;return{id:t.id,name:t.name,icon:t.icon,color:e[t.id]||"#8884d8",currentEquity:null!=(i=t.intermittentValue)?i:t.currentEquity,startingEquity:t.startingEquity}})},[o]);return(0,V.Z)()?null:(0,n.jsxs)("div",{className:"jsx-1ece7480e12d001d md:hidden bg-white",children:[(0,n.jsx)(eZ(),{id:"1ece7480e12d001d",children:".mobile-legend-direct.jsx-1ece7480e12d001d .grid{grid-template-columns:repeat(4,1fr)!important}"}),(0,n.jsx)("div",{className:"jsx-1ece7480e12d001d mobile-legend-direct",children:u.length>0&&(0,n.jsx)(el,{models:u,valueDisplayType:a,focusedModel:c,onModelClick:e=>{d(e)},onBackToAllModels:()=>{x()}})})]})}function eJ(){let{models:e,lastUpdateTime:t}=(0,r.Q)(),{serverTime:i,latestAccountDataByModel:a}=(0,d.q)(),[s,o]=(0,l.useState)("all"),[c,x]=(0,l.useState)("dollar"),[u,h]=(0,l.useState)([]),[p,f]=(0,l.useState)(null),g=(0,l.useRef)(new Set);(0,l.useEffect)(()=>{window.scrollTo(0,0)},[]),(0,l.useEffect)(()=>{if(!i||!a)return;let e=new Set;if(Object.entries(a).forEach(t=>{let[i,n]=t;n.positions&&Object.entries(n.positions).forEach(t=>{let[n,l]=t;l.is_active&&e.add("".concat(i,"_").concat(n,"_").concat(l.entry_time||l.oid))})}),0===g.current.size){g.current=e;return}let t=[...e].filter(e=>!g.current.has(e));if(t.length>0){let e=t.map(e=>{let[t,i,n]=e.split("_"),l=a[t];if(l&&l.positions&&l.positions[i]){var s,r;let e=l.positions[i],n=null!=(r=null!=(s=e.quantity)?s:e.position)?r:0,a=(0,m.dn)(t);return{model:(null==a?void 0:a.name)||t,side:n>0?"LONG":"SHORT",coin:i}}return null}).filter(Boolean);h(t=>[...t,...e])}g.current=e},[i,a]),(0,l.useEffect)(()=>{if(!p&&u.length>0){let[e,...t]=u;f(e),h(t),setTimeout(()=>{f(null)},2e3)}},[p,u]);let b=(0,l.useMemo)(()=>{if(0===e.length)return{highest:null,lowest:null};let t=e.filter(e=>!e.id.includes("buynhold"));if(0===t.length)return{highest:null,lowest:null};let i=[...t.map(e=>{var t,i;let n=null!=(i=e.intermittentValue)?i:(null==(t=e.equity[e.equity.length-1])?void 0:t.v)||e.startingEquity,l=(0,v.B3)(n,e.startingEquity);return{...e,currentEquity:n,pnlPct:l.percentageChange}})].sort((e,t)=>t.currentEquity-e.currentEquity);return{highest:i[0],lowest:i[i.length-1]}},[e]),y=(0,l.useMemo)(()=>0===e.length?[]:[...e.filter(e=>!e.id.includes("buynhold")).map(e=>{var t;let i=null!=(t=e.intermittentValue)?t:e.currentEquity,n=(i-e.startingEquity)/e.startingEquity*100;return{...e,id:e.id,currentEquity:i,returnPct:n}})].sort((e,t)=>t.currentEquity-e.currentEquity),[e]);return(0,n.jsxs)(n.Fragment,{children:[p&&(0,n.jsx)("div",{className:"fixed top-28 left-1/2 -translate-x-1/2 z-[99999] pointer-events-none animate-[float-up-fade_2s_ease-out_forwards]",children:(0,n.jsxs)("div",{className:"bg-white text-black px-2 py-1 md:px-4 md:py-2 shadow-lg border border-green-700 whitespace-nowrap text-[10px] md:text-xs font-mono",children:[(0,n.jsx)("span",{className:"font-bold",children:p.model})," has entered a"," ",(0,n.jsx)("span",{className:"LONG"===p.side?"terminal-positive font-bold":"terminal-negative font-bold",children:p.side})," ","position on ",(0,n.jsx)("span",{className:"font-bold",children:p.coin})]})}),(0,n.jsxs)("div",{className:"flex h-full flex-col bg-background",children:[(0,n.jsx)("div",{className:"hidden border-b-2 border-border bg-surface-elevated px-4 py-1 md:block",children:(0,n.jsxs)("div",{className:"terminal-text flex items-center justify-between text-xs",children:[(0,n.jsx)("div",{className:"flex items-center",children:(0,n.jsx)(e$,{})}),(0,n.jsxs)("div",{className:"flex items-center space-x-4",children:[b.highest&&(0,n.jsx)(ed,{label:"HIGHEST",accent:"positive",...b.highest}),(0,n.jsx)("span",{className:"text-xl font-thin text-foreground-subtle",children:"|"}),b.lowest&&(0,n.jsx)(ed,{label:"LOWEST",accent:"negative",...b.lowest})]})]})}),(0,n.jsxs)("div",{className:"md:hidden",children:[(0,n.jsx)(eQ,{}),(0,n.jsx)("div",{className:"border-b border-border"})]}),(0,n.jsx)("div",{className:"hidden border-b border-border bg-surface-elevated px-2 py-1",children:(0,n.jsxs)("div",{className:"terminal-text flex items-center justify-between text-xs",children:[b.highest&&(0,n.jsx)(em,{label:"HIGH",icon:b.highest.icon,name:b.highest.name,equity:b.highest.currentEquity,tone:"positive"}),b.lowest&&(0,n.jsx)(em,{label:"LOW",icon:b.lowest.icon,name:b.lowest.name,equity:b.lowest.currentEquity,tone:"negative"})]})}),(0,n.jsxs)("div",{className:"flex min-h-0 flex-1 flex-col md:flex-row overflow-y-auto md:overflow-hidden",style:{WebkitOverflowScrolling:"touch"},children:[(0,n.jsxs)("div",{className:"flex flex-col h-[480px] md:min-h-0 md:h-auto md:flex-1 border-b md:border-b-0 md:border-r border-border flex-shrink-0",children:[(0,n.jsx)("div",{className:"relative flex-1 overflow-hidden","data-chart-container":!0,children:(0,n.jsx)(eo,{externalTimeRange:s,externalSetTimeRange:o,externalValueDisplayType:c,externalSetValueDisplayType:x})}),(0,n.jsx)(eK,{timeRange:s,setTimeRange:o,valueDisplayType:c,setValueDisplayType:x})]}),(0,V.Z)()&&(0,n.jsx)("div",{className:"md:hidden bg-white border-t-2 border-border",children:(0,n.jsx)("div",{className:"relative bg-surface p-3",children:(0,n.jsxs)("div",{className:"terminal-text text-center",children:[(0,n.jsx)("div",{className:"text-xs font-bold mb-1",children:"Alpha Arena Season 1 is now over, as of Nov 3rd, 2025 5 p.m. EST"}),(0,n.jsx)("div",{className:"text-[10px]",children:"Season 1.5 coming soon"})]})})}),(0,n.jsx)(eH,{}),(0,n.jsxs)("div",{className:"md:hidden px-4 pt-3 pb-28",children:[(0,n.jsx)("div",{className:"terminal-text text-center text-[10px] font-bold pt-1 pb-0.5 border-b border-black mb-3",children:"LEADING MODELS"}),(0,n.jsx)(eG.m,{sortedData:y,mobile:!0})]}),(0,n.jsx)("div",{className:"md:hidden h-1",style:{paddingBottom:"env(safe-area-inset-bottom)"}}),(0,n.jsx)("div",{className:"hidden md:block md:w-[280px] lg:w-[320px] xl:w-[380px] 2xl:w-[500px] flex-shrink-0 md:border-l border-border bg-surface overflow-y-auto md:overflow-hidden",children:(0,n.jsx)(eV,{})})]})]})]})}function e0(){return(0,n.jsx)(h,{children:(0,n.jsx)(eJ,{})})}},6760:(e,t,i)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return i(6171)}])},8617:(e,t,i)=>{"use strict";i.d(t,{Ee:()=>l.Ee,YW:()=>s,ZI:()=>a,vv:()=>l.vv});var n=i(1193),l=i(326);function a(e){let t=Object.values(n.ht).find(t=>t.id===e);return t?{icon:t.icon,color:t.color}:{icon:"/logos/NOF1 SQUARE WHITE.png",color:"#6b7280"}}function s(e){return"".concat(Number(e.toFixed(1)),"%")}}},e=>{e.O(0,[333,915,152,636,593,792],()=>e(e.s=6760)),_N_E=e.O()}]);